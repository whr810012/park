{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/order/evaluation/evaluation.vue?aa28","webpack:///./src/pages/order/evaluation/evaluation.vue?4154","webpack:///./src/pages/order/evaluation/evaluation.vue?0e75","webpack:///./src/pages/order/evaluation/evaluation.vue?5467","uni-app:///src/pages/order/evaluation/evaluation.vue","webpack:///./src/pages/order/evaluation/evaluation.vue?e9a4","webpack:///./src/pages/order/evaluation/evaluation.vue?c2cb"],"names":["require","_vue","_interopRequireDefault","_evaluation","e","__esModule","default","createPage","Page","_userInfo","_regeneratorRuntime","_default","exports","components","rfRate","data","loading","productList","token","content","evaluationType","imageList","is_anonymous","moneySymbol","orderId","singleSkuText","computed","wordLimit","_this2","index","length","onLoad","options","initData","methods","_initData","_asyncToGenerator","mark","_callee","_this3","title","wrap","_callee$","_context","prev","next","type","push","JSON","parse","forEach","item","scores","order_id","getOrderProductList","uni","setNavigationBarTitle","stop","_x","apply","arguments","_getOrderProductList","_callee3","_this4","_callee3$","_context3","$http","get","orderProductIndex","is_evaluate","then","_ref","_callee2","r","_callee2$","_context2","_x2","handleScoreChange","value","handleAnonymousChange","detail","close","splice","uploadImage","_this","chooseImage","count","sizeType","sourceType","success","_success","_callee4","res","_callee4$","_context4","handleUploadFile","tempFilePaths","_x3","_handleUploadFile","_callee6","_this5","_callee6$","_context6","upload","filePath","name","_ref2","_callee5","_callee5$","_context5","url","_x6","_x4","_x5","handleEvaluate","_handleEvaluate","_callee7","params","_callee7$","_context7","order_product_id","id","covers","evaluate","stringify","handleEvaluateCreate","again_content","again_covers","handleEvaluateAgain","_x7","_x8","_handleEvaluateCreate","_callee8","_this6","_callee8$","_context8","post","concat","evaluateCreate","$mRouter","back","_x9","_handleEvaluateAgain","_callee9","_this7","_callee9$","_context9","evaluateAgain","_x10"],"mappings":"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","file":"pages/order/evaluation/evaluation.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/order/evaluation/evaluation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./evaluation.vue?vue&type=template&id=2efceb05&\"\nvar renderjs\nimport script from \"./evaluation.vue?vue&type=script&lang=js&\"\nexport * from \"./evaluation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./evaluation.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/evaluation/evaluation.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluation.vue?vue&type=template&id=2efceb05&\"","var components\ntry {\n  components = {\n    rfRate: function () {\n      return import(\n        /* webpackChunkName: \"components/rf-rate/rf-rate\" */ \"@/components/rf-rate/rf-rate.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.evaluationType !== \"add\" ? parseInt(_vm.is_anonymous, 10) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluation.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"evaluation\" v-if=\"!loading\">\r\n\t\t<view\r\n\t\t\tclass=\"evaluation-item\"\r\n\t\t\tv-for=\"(item, index) in productList\"\r\n\t\t\t:key=\"index\"\r\n\t\t>\r\n\t\t\t<!--商品信息-->\r\n\t\t\t<view class=\"product-info\">\r\n\t\t\t\t<image\r\n\t\t\t\t\tclass=\"product-image\"\r\n\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t:src=\"item.product_picture\"\r\n\t\t\t\t></image>\r\n\t\t\t\t<view class=\"product-content\">\r\n\t\t\t\t\t<text class=\"product-name in2line\">{{ item.product_name }}</text>\r\n\t\t\t\t\t<text class=\"product-sku-name\">{{ item.sku_name || singleSkuText }}</text>\r\n\t\t\t\t\t<text class=\"product-price\" :class=\"'text-' + themeColor.name\"\r\n\t\t\t\t\t\t>{{ moneySymbol }}{{ item.product_money }}</text\r\n\t\t\t\t\t>\r\n\t\t\t\t\t* {{ item.num }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--整体评价-->\r\n\t\t\t<view class=\"product-rate\" v-if=\"evaluationType !== 'add'\">\r\n\t\t\t\t整体评价\r\n\t\t\t\t<view class=\"product-rate-wrapper\">\r\n\t\t\t\t\t<rf-rate\r\n\t\t\t\t\t\tsize=\"22\"\r\n\t\t\t\t\t\t:value=\"item.scores || 5\"\r\n\t\t\t\t\t\t:index=\"index\"\r\n\t\t\t\t\t\t@change=\"handleScoreChange\"\r\n\t\t\t\t\t\t:margin=\"8\"\r\n\t\t\t\t\t\tclass=\"rate\"\r\n\t\t\t\t\t\t:active-color=\"themeColor.color\"\r\n\t\t\t\t\t></rf-rate>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--详细描述信息-->\r\n\t\t\t<view class=\"product-textarea\">\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tclass=\"textarea\"\r\n\t\t\t\t\tmaxlength=\"140\"\r\n\t\t\t\t\tv-model=\"item.content\"\r\n\t\t\t\t\tplaceholder-style=\"color:#ccc; font-size: 24upx\"\r\n\t\t\t\t\tplaceholder=\"宝贝满足您的期待吗？说说您的使用心得，分享给您想买的他们吧\"\r\n\t\t\t\t/>\r\n\t\t\t\t<!--<view class=\"tips\">-->\r\n\t\t\t\t<!--{{ item.content }}-->\r\n\t\t\t\t<!--<text v-if=\"item.content && item.content.length > 0 && item.content.length < 40\">-->\r\n\t\t\t\t<!--您已输入<text class=\"f\"> {{ item.content.length }} </text>字-->\r\n\t\t\t\t<!--</text>-->\r\n\t\t\t\t<!--<text v-if=\"item.content.length >= 40\">-->\r\n\t\t\t\t<!--还可输入 <text class=\"s\"> {{ wordLimit(index) }} </text> 字-->\r\n\t\t\t\t<!--</text>-->\r\n\t\t\t\t<!--</view>-->\r\n\t\t\t\t<view class=\"anonymous\" v-if=\"evaluationType !== 'add'\">\r\n\t\t\t\t\t<switch\r\n\t\t\t\t\t\t:color=\"themeColor.color\"\r\n\t\t\t\t\t\t:checked=\"is_anonymous == 1\"\r\n\t\t\t\t\t\t@change=\"handleAnonymousChange\"\r\n\t\t\t\t\t\tstyle=\"transform:scale(0.7)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<text class=\"spec-color\">{{\r\n\t\t\t\t\t\tparseInt(is_anonymous, 10) === 1 ? '匿名' : '不匿名'\r\n\t\t\t\t\t}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--上传图片-->\r\n\t\t\t<view class=\"rf-uploader\">\r\n\t\t\t\t<view class=\"uni-uploader\">\r\n\t\t\t\t\t<view class=\"uni-uploader-body\">\r\n\t\t\t\t\t\t<view class=\"uni-uploader__files\">\r\n\t\t\t\t\t\t\t<view v-for=\"(image, i) in imageList[index]\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t<view class=\"uni-uploader__file\" style=\"position: relative;\">\r\n\t\t\t\t\t\t\t\t\t<image class=\"uni-uploader__img\" :src=\"image\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"close-view\" @tap=\"close(i, index)\">x</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"uni-uploader__input-box\"\r\n\t\t\t\t\t\t\t\tv-if=\"imageList[index].length < 8\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\tclass=\"uni-uploader__input\"\r\n\t\t\t\t\t\t\t\t\t@tap=\"uploadImage(index)\"\r\n\t\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--发表评价-->\r\n\t\t\t<button class=\"confirm-btn\" :class=\"'bg-' + themeColor.name\" @tap=\"handleEvaluate(item, index)\">\r\n\t\t\t\t{{ evaluationType === 'add' ? '我要追评' : '发表评价' }}\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t\t<rf-empty info=\"暂无待评价商品\" v-if=\"productList.length === 0\"></rf-empty>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * @des 发表评价\r\n *\r\n * @author stav stavyan@qq.com\r\n * @date 2019-11-27 14:32\r\n * @copyright 2019\r\n */\r\nimport rfRate from '@/components/rf-rate/rf-rate';\r\nimport { evaluateCreate, evaluateAgain, uploadImage, orderProductIndex } from '@/api/userInfo';\r\nexport default {\r\n\tcomponents: { rfRate },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: true,\r\n\t\t\tproductList: [],\r\n\t\t\ttoken: null,\r\n\t\t\tcontent: '',\r\n\t\t\tevaluationType: null,\r\n\t\t\timageList: [],\r\n\t\t\t// 评论表单\r\n\t\t\tis_anonymous: '1',\r\n\t\t\tmoneySymbol: this.moneySymbol,\r\n\t\t\torderId: '',\r\n\t\t\tsingleSkuText: this.singleSkuText\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t// 限制140字\r\n\t\twordLimit() {\r\n\t\t\treturn index => {\r\n\t\t\t\treturn 140 - this.productList[index].content.length;\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tthis.initData(options);\r\n\t},\r\n\tmethods: {\r\n\t\t// 数据初始化\r\n\t\tasync initData(options) {\r\n\t\t\tthis.productList.length = 0;\r\n\t\t\tthis.evaluationType = options.type;\r\n\t\t\tif (options.data) {\r\n\t\t\t\tthis.productList.push(JSON.parse(options.data));\r\n\t\t\t\tthis.productList.forEach(item => {\r\n\t\t\t\t\tthis.imageList.push([]);\r\n\t\t\t\t\titem.content = '';\r\n\t\t\t\t\titem.scores = 5;\r\n\t\t\t\t});\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t} else if (options.order_id) {\r\n\t\t\t\tthis.orderId = options.order_id;\r\n\t\t\t\tthis.getOrderProductList();\r\n\t\t\t}\r\n\t\t\tlet title = '发表评价';\r\n\t\t\tif (options.type === 'add') {\r\n\t\t\t\ttitle = '追加评价';\r\n\t\t\t}\r\n\t\t\t// 设置标题\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync getOrderProductList() {\r\n\t\t\tawait this.$http\r\n\t\t\t\t.get(orderProductIndex, { order_id: this.orderId, is_evaluate: 0 })\r\n\t\t\t\t.then(async r => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tthis.productList = r.data;\r\n\t\t\t\t\tthis.productList.forEach(item => {\r\n\t\t\t\t\t\tthis.imageList.push([]);\r\n\t\t\t\t\t\titem.content = '';\r\n\t\t\t\t\t\titem.scores = 5;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tthis.loading = false;\r\n\t\t},\r\n\t\t// 评分监听事件\r\n\t\thandleScoreChange(e) {\r\n\t\t\tthis.productList[e.index].scores = e.value;\r\n\t\t},\r\n\t\t// 监听是否匿名\r\n\t\thandleAnonymousChange(e) {\r\n\t\t\tif (e.detail.value) {\r\n\t\t\t\tthis.is_anonymous = 1;\r\n\t\t\t} else {\r\n\t\t\t\tthis.is_anonymous = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 删除已选中图片\r\n\t\tclose(e, index) {\r\n\t\t\tthis.imageList[index].splice(e, 1);\r\n\t\t},\r\n\t\t// 监听图片上传\r\n\t\tuploadImage(index) {\r\n\t\t\t// 从相册选择6张图\r\n\t\t\tconst _this = this;\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 6,\r\n\t\t\t\tsizeType: ['original', 'compressed'],\r\n\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\tsuccess: async function(res) {\r\n\t\t\t\t\tawait _this.handleUploadFile(res.tempFilePaths, index);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 依次上传图片\r\n\t\tasync handleUploadFile(data, index) {\r\n\t\t\tdata.forEach(item => {\r\n\t\t\t\tthis.$http\r\n\t\t\t\t\t.upload(uploadImage, { filePath: item, name: 'file' })\r\n\t\t\t\t\t.then(async r => {\r\n\t\t\t\t\t\tthis.imageList[index].push(r.data.url);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 提交评价\r\n\t\tasync handleEvaluate(item, index) {\r\n\t\t\tconst params = {};\r\n\t\t\tif (this.evaluationType !== 'add') {\r\n\t\t\t\tlet data = [];\r\n\t\t\t\tdata.push({\r\n\t\t\t\t\torder_product_id: item.id,\r\n\t\t\t\t\tis_anonymous: this.is_anonymous,\r\n\t\t\t\t\tcovers: this.imageList[index],\r\n\t\t\t\t\tscores: item.scores,\r\n\t\t\t\t\tcontent: item.content\r\n\t\t\t\t});\r\n\t\t\t\tparams.evaluate = JSON.stringify(data);\r\n\t\t\t\tthis.handleEvaluateCreate(params);\r\n\t\t\t} else {\r\n\t\t\t\tparams.order_product_id = item.id;\r\n\t\t\t\tparams.again_content = item.content;\r\n\t\t\t\tparams.again_covers = JSON.stringify(this.imageList[index]);\r\n\t\t\t\tthis.handleEvaluateAgain(params);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 发表评价\r\n\t\tasync handleEvaluateCreate(params) {\r\n\t\t\tawait this.$http.post(`${evaluateCreate}`, params).then(() => {\r\n\t\t\t\tif (this.productList.length === 1) {\r\n\t\t\t\t\tthis.$mRouter.back();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.getOrderProductList();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 追加评价\r\n\t\tasync handleEvaluateAgain(params) {\r\n\t\t\tawait this.$http\r\n\t\t\t\t.post(\r\n\t\t\t\t\t`${evaluateAgain}?order_product_id=${params.order_product_id}`,\r\n\t\t\t\t\tparams\r\n\t\t\t\t)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$mRouter.back();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n\tbackground-color: $page-color-base;\r\n}\r\n.evaluation {\r\n\tmargin-bottom: $spacing-lg;\r\n\t.evaluation-item {\r\n\t\tmargin: $spacing-base;\r\n\t\tpadding: $spacing-lg;\r\n\t\tbackground-color: $color-white;\r\n\t\tborder-radius: 12upx;\r\n\t\tbox-shadow: 0upx 5upx 25upx rgba(0, 0, 0, 0.05);\r\n\t}\r\n\t.product-info {\r\n\t\tdisplay: flex;\r\n\t\t.product-image {\r\n\t\t\twidth: 200upx;\r\n\t\t\theight: 150upx;\r\n\t\t}\r\n\t\t.product-content {\r\n\t\t\tflex: 1;\r\n\t\t\tmargin-left: 20upx;\r\n\t\t\t.product-name {\r\n\t\t\t\tfont-size: $font-base;\r\n\t\t\t\tcolor: $font-color-dark;\r\n\t\t\t\tline-height: 32upx;\r\n\t\t\t\tmin-height: 60upx;\r\n\t\t\t}\r\n\t\t\t.product-sku-name {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tfont-size: $font-base;\r\n\t\t\t\tcolor: $font-color-dark;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.product-rate {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: $font-lg;\r\n\t\tcolor: $font-color-dark;\r\n\t\tpadding: 20upx 0;\r\n\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n\t\t.product-rate-wrapper {\r\n\t\t\tmargin-top: $spacing-sm;\r\n\t\t\tdisplay: inline-block;\r\n\t\t}\r\n\t}\r\n\t.product-textarea {\r\n\t\tmargin-top: 20upx;\r\n\t\theight: 360upx;\r\n\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n\t\tposition: relative;\r\n\t\t.textarea {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t\t.tips {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 10upx;\r\n\t\t\tright: 0;\r\n\t\t\tfont-size: $font-sm;\r\n\t\t\tcolor: $font-color-light;\r\n\t\t\t.f {\r\n\t\t\t\tcolor: $uni-color-success;\r\n\t\t\t}\r\n\t\t\t.s {\r\n\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.anonymous {\r\n\t\t\tcolor: $font-color-light;\r\n\t\t\tfont-size: $font-sm;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t}\r\n\t}\r\n\t.upload-image {\r\n\t\toverflow: hidden;\r\n\t\tmargin: 40upx 0;\r\n\t\t.upload-image-wrapper {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 200upx;\r\n\t\t\theight: 200upx;\r\n\t\t\tpadding: 10upx;\r\n\t\t\tmargin: 10upx;\r\n\t\t\t.image {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twidth: 180upx;\r\n\t\t\t\theight: 180upx;\r\n\t\t\t}\r\n\t\t\t.image-close {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: -10upx;\r\n\t\t\t\tright: -10upx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.add {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\toverflow: hidden;\r\n\t\t\twidth: 180upx;\r\n\t\t\theight: 180upx;\r\n\t\t\ttext-align: center;\r\n\t\t\tborder: 1px solid rgba(0, 0, 0, 0.05);\r\n\t\t\tfont-size: 88upx;\r\n\t\t\tcolor: $font-color-base;\r\n\t\t\tfont-weight: 100;\r\n\t\t}\r\n\t}\r\n\t.confirm-btn {\r\n\t\twidth: 630upx;\r\n\t\theight: 76upx;\r\n\t\tline-height: 76upx;\r\n\t\tborder-radius: 50px;\r\n\t\tmargin-top: 50upx;\r\n\t\tfont-size: $font-lg;\r\n\t\t&:after {\r\n\t\t\tborder-radius: 100px;\r\n\t\t}\r\n\t}\r\n\t.uni-uploader__file {\r\n\t\twidth: 190upx;\r\n\t\theight: 190upx;\r\n\t}\r\n\t.uni-uploader__input-box {\r\n\t\twidth: 188upx;\r\n\t\theight: 188upx;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluation.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluation.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1735447283372\n      var cssReload = require(\"D:/CODE/park/park-vue/uniapp/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}