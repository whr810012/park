{"version":3,"sources":["webpack:///./src/components/rf-avatar/rf-avatar.vue?fa30","webpack:///./src/components/rf-avatar/rf-avatar.vue?3810","webpack:///./src/components/rf-avatar/rf-avatar.vue?bee7","webpack:///./src/components/rf-avatar/rf-avatar.vue?ee70","uni-app:///src/components/rf-avatar/rf-avatar.vue","webpack:///./src/components/rf-avatar/rf-avatar.vue?157e","webpack:///./src/components/rf-avatar/rf-avatar.vue?ba04"],"names":["tabHeight","_default","exports","default","name","data","cvsStyleHeight","styleDisplay","styleTop","prvTop","imgStyle","selStyle","showOper","imgSrc","btnWidth","btnDsp","watch","avatarSrc","props","avatarStyle","selWidth","selHeight","expWidth","expHeight","minScale","maxScale","canScale","canRotate","lockWidth","lockHeight","stretch","lock","noTab","inner","quality","index","created","_this","ctxCanvas","uni","createCanvasContext","ctxCanvasOper","ctxCanvasPrv","qlty","parseInt","letRotate","letScale","isin","indx","undefined","mnScale","mxScale","noBar","stc","lck","moreHeight","fWindowResize","showTabBar","complete","res","errMsg","methods","sysInfo","getSystemInfoSync","platform","pixelRatio","windowWidth","windowHeight","pxRatio","style","trim","split","obj","_iterator","_createForOfIteratorHelper","_step","s","n","done","v","value","indexOf","arr","k","parseFloat","join","err","e","f","exportWidth","exportHeight","fDrawInit","fHideImg","fSelect","_this2","fSelecting","setTimeout","chooseImage","count","sizeType","sourceType","success","r","showLoading","mask","path","imgPath","tempFilePaths","getImageInfo","src","imgWidth","width","imgHeight","height","hasSel","top","left","showModal","title","showCancel","hideTabBar","fail","$mHelper","toast","hideLoading","fUpload","_this3","fUploading","x","y","canvasToTempFilePath","destWidth","destHeight","canvasId","fileType","tempFilePath","$emit","avatar","rtn","fPrvUpload","_this4","fPrvUploading","prvX","prvY","prvWidth","prvHeight","_this5","ini","arguments","length","allWidth","allHeight","imgRadio","useWidth","useHeight","fixWidth","fixHeight","lckWidth","lckHeight","scaleWidth","scaleHeight","scaleSize","rotateDeg","posWidth","posHeight","canvas","canvasOper","setLineWidth","setStrokeStyle","setGlobalAlpha","setFillStyle","strokeRect","fillRect","moveTo","lineTo","stroke","draw","fDrawImage","tm_now","Date","now","drawTm","translate","scale","rotate","Math","PI","drawImage","prvImg","prvImgData","target","fClose","fPreview","_this6","fPreviewing","prvImgTmp","radio","rHeight","fChooseImg","params","fRotate","fStart","touches","touch0","touch1","fgDistance","sqrt","fMove","beScaleSize","rx0","ry0","l","t","b","atan","beX","beY","abs","fEnd","fGetImgData","_this7","Promise","resolve","reject","canvasGetImageData","fColorChange","_fColorChange","_asyncToGenerator","_regeneratorRuntime","mark","_callee","i","g","a","h","d","p","q","min","max","hK","tR","tG","tB","correctRGB","createRGB","wrap","_callee$","_context","prev","next","prvTm","abrupt","catch","sent","Uint8ClampedArray","detail","round","canvasPutImageData","stop","_x2","apply","btop","base64","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","window","URL","webkitURL","createObjectURL","Blob","type"],"mappings":"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","file":"components/rf-avatar/rf-avatar.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./rf-avatar.vue?vue&type=template&id=1a0176ea&name=yq-avatar&\"\nvar renderjs\nimport script from \"./rf-avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./rf-avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rf-avatar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/rf-avatar/rf-avatar.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rf-avatar.vue?vue&type=template&id=1a0176ea&name=yq-avatar&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.imgStyle])\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rf-avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rf-avatar.vue?vue&type=script&lang=js&\"","<template name=\"yq-avatar\">\r\n\t<view>\r\n\t\t<image\r\n\t\t\t:src=\"imgSrc.imgSrc\"\r\n\t\t\t@tap=\"fSelect\"\r\n\t\t\t:style=\"[imgStyle]\"\r\n\t\t\tclass=\"my-avatar\"\r\n\t\t></image>\r\n\t\t<canvas\r\n\t\t\tcanvas-id=\"avatar-canvas\"\r\n\t\t\tid=\"avatar-canvas\"\r\n\t\t\tclass=\"my-canvas\"\r\n\t\t\t:style=\"{ top: styleTop, height: cvsStyleHeight }\"\r\n\t\t\tdisable-scroll=\"false\"\r\n\t\t></canvas>\r\n\t\t<canvas\r\n\t\t\tcanvas-id=\"oper-canvas\"\r\n\t\t\tid=\"oper-canvas\"\r\n\t\t\tclass=\"oper-canvas\"\r\n\t\t\t:style=\"{ top: styleTop, height: cvsStyleHeight }\"\r\n\t\t\tdisable-scroll=\"false\"\r\n\t\t\t@touchstart=\"fStart\"\r\n\t\t\t@touchmove=\"fMove\"\r\n\t\t\t@touchend=\"fEnd\"\r\n\t\t></canvas>\r\n\t\t<canvas\r\n\t\t\tcanvas-id=\"prv-canvas\"\r\n\t\t\tid=\"prv-canvas\"\r\n\t\t\tclass=\"prv-canvas\"\r\n\t\t\tdisable-scroll=\"false\"\r\n\t\t\t@touchstart=\"fHideImg\"\r\n\t\t\t:style=\"{ height: cvsStyleHeight, top: prvTop }\"\r\n\t\t></canvas>\r\n\t\t<view class=\"oper-wrapper\" :style=\"{ display: styleDisplay }\">\r\n\t\t\t<view class=\"oper\">\r\n\t\t\t\t<view class=\"btn-wrapper\" v-if=\"showOper\">\r\n\t\t\t\t\t<view @tap=\"fSelect\" hover-class=\"hover\" :style=\"{ width: btnWidth }\"\r\n\t\t\t\t\t\t><text>重选</text></view\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<view @tap=\"fClose\" hover-class=\"hover\" :style=\"{ width: btnWidth }\"\r\n\t\t\t\t\t\t><text>关闭</text></view\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\t@tap=\"fRotate\"\r\n\t\t\t\t\t\thover-class=\"hover\"\r\n\t\t\t\t\t\t:style=\"{ width: btnWidth, display: btnDsp }\"\r\n\t\t\t\t\t\t><text>旋转</text></view\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<view @tap=\"fPreview\" hover-class=\"hover\" :style=\"{ width: btnWidth }\"\r\n\t\t\t\t\t\t><text>预览</text></view\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<view @tap=\"fUpload\" hover-class=\"hover\" :style=\"{ width: btnWidth }\"\r\n\t\t\t\t\t\t><text>上传</text></view\r\n\t\t\t\t\t>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"clr-wrapper\" v-else>\r\n\t\t\t\t\t<slider\r\n\t\t\t\t\t\tclass=\"my-slider\"\r\n\t\t\t\t\t\t@change=\"fColorChange\"\r\n\t\t\t\t\t\tblock-size=\"25\"\r\n\t\t\t\t\t\tvalue=\"0\"\r\n\t\t\t\t\t\tmin=\"-100\"\r\n\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\tactiveColor=\"red\"\r\n\t\t\t\t\t\tbackgroundColor=\"green\"\r\n\t\t\t\t\t\tblock-color=\"grey\"\r\n\t\t\t\t\t\tshow-value\r\n\t\t\t\t\t></slider>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\t@tap=\"fPrvUpload\"\r\n\t\t\t\t\t\thover-class=\"hover\"\r\n\t\t\t\t\t\t:style=\"{ width: btnWidth }\"\r\n\t\t\t\t\t\t><text>上传</text></view\r\n\t\t\t\t\t>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nconst tabHeight = 50;\r\nexport default {\r\n\tname: 'yq-avatar',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcvsStyleHeight: '0px',\r\n\t\t\tstyleDisplay: 'none',\r\n\t\t\tstyleTop: '-10000px',\r\n\t\t\tprvTop: '-10000px',\r\n\t\t\timgStyle: {},\r\n\t\t\tselStyle: {},\r\n\t\t\tshowOper: true,\r\n\t\t\timgSrc: {\r\n\t\t\t\timgSrc: ''\r\n\t\t\t},\r\n\t\t\tbtnWidth: '19%',\r\n\t\t\tbtnDsp: 'flex'\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tavatarSrc() {\r\n\t\t\tthis.imgSrc.imgSrc = this.avatarSrc;\r\n\t\t}\r\n\t},\r\n\tprops: {\r\n\t\tavatarSrc: '',\r\n\t\tavatarStyle: '',\r\n\t\tselWidth: '',\r\n\t\tselHeight: '',\r\n\t\texpWidth: '',\r\n\t\texpHeight: '',\r\n\t\tminScale: '',\r\n\t\tmaxScale: '',\r\n\t\tcanScale: '',\r\n\t\tcanRotate: '',\r\n\t\tlockWidth: '',\r\n\t\tlockHeight: '',\r\n\t\tstretch: '',\r\n\t\tlock: '',\r\n\t\tnoTab: '',\r\n\t\tinner: '',\r\n\t\tquality: '',\r\n\t\tindex: ''\r\n\t},\r\n\tcreated() {\r\n\t\tthis.ctxCanvas = uni.createCanvasContext('avatar-canvas', this);\r\n\t\tthis.ctxCanvasOper = uni.createCanvasContext('oper-canvas', this);\r\n\t\tthis.ctxCanvasPrv = uni.createCanvasContext('prv-canvas', this);\r\n\t\tthis.qlty = parseInt(this.quality) || 0.9;\r\n\t\tthis.imgSrc.imgSrc = this.avatarSrc;\r\n\t\tthis.letRotate =\r\n\t\t\tthis.canRotate === 'false' || this.inner === 'true' ? 0 : 1;\r\n\t\tthis.letScale = this.canScale === 'false' ? 0 : 1;\r\n\t\tthis.isin = this.inner === 'true' ? 1 : 0;\r\n\t\tthis.indx = this.index || undefined;\r\n\t\tthis.mnScale = this.minScale || 0.3;\r\n\t\tthis.mxScale = this.maxScale || 4;\r\n\t\tthis.noBar = this.noTab === 'true' ? 1 : 0;\r\n\t\tthis.stc = this.stretch;\r\n\t\tthis.lck = this.lock;\r\n\t\tif (this.isin) {\r\n\t\t\tthis.btnWidth = '24%';\r\n\t\t\tthis.btnDsp = 'none';\r\n\t\t} else {\r\n\t\t\tthis.btnWidth = '19%';\r\n\t\t\tthis.btnDsp = 'flex';\r\n\t\t}\r\n\r\n\t\tif (this.noBar) {\r\n\t\t\tthis.moreHeight = 0;\r\n\t\t\tthis.fWindowResize();\r\n\t\t} else {\r\n\t\t\tuni.showTabBar({\r\n\t\t\t\tcomplete: res => {\r\n\t\t\t\t\tthis.moreHeight = res.errMsg === 'showTabBar:ok' ? 50 : 0;\r\n\t\t\t\t\tthis.fWindowResize();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tfWindowResize() {\r\n\t\t\tlet sysInfo = uni.getSystemInfoSync();\r\n\t\t\tthis.platform = sysInfo.platform;\r\n\t\t\tthis.pixelRatio = sysInfo.pixelRatio;\r\n\t\t\tthis.windowWidth = sysInfo.windowWidth;\r\n\t\t\t// #ifdef H5\r\n\t\t\tthis.drawTop = sysInfo.windowTop;\r\n\t\t\tthis.windowHeight = sysInfo.windowHeight + sysInfo.windowBottom;\r\n\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 'px';\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tif (this.platform === 'android') {\r\n\t\t\t\tthis.windowHeight = sysInfo.screenHeight + sysInfo.statusBarHeight;\r\n\t\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tthis.windowHeight = sysInfo.windowHeight + this.moreHeight;\r\n\t\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 6 + 'px';\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP\r\n\t\t\tthis.windowHeight = sysInfo.windowHeight + this.moreHeight;\r\n\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight - 2 + 'px';\r\n\t\t\t// #endif\r\n\t\t\tthis.pxRatio = this.windowWidth / 750;\r\n\r\n\t\t\tlet style = this.avatarStyle;\r\n\t\t\tif (style && style !== true && (style = style.trim())) {\r\n\t\t\t\tstyle = style.split(';');\r\n\t\t\t\tlet obj = {};\r\n\t\t\t\tfor (let v of style) {\r\n\t\t\t\t\tif (!v) continue;\r\n\t\t\t\t\tv = v.trim().split(':');\r\n\t\t\t\t\tif (v[1].indexOf('upx') >= 0) {\r\n\t\t\t\t\t\tlet arr = v[1].trim().split(' ');\r\n\t\t\t\t\t\tfor (let k in arr) {\r\n\t\t\t\t\t\t\tif (!arr[k]) continue;\r\n\t\t\t\t\t\t\tif (arr[k].indexOf('upx') >= 0) {\r\n\t\t\t\t\t\t\t\tarr[k] = parseFloat(arr[k]) * this.pxRatio + 'px';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tv[1] = arr.join(' ');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj[v[0].trim()] = v[1].trim();\r\n\t\t\t\t}\r\n\t\t\t\tthis.imgStyle = obj;\r\n\t\t\t}\r\n\r\n\t\t\tthis.expWidth &&\r\n\t\t\t\t(this.exportWidth =\r\n\t\t\t\t\tthis.expWidth.indexOf('upx') >= 0\r\n\t\t\t\t\t\t? parseInt(this.expWidth) * this.pxRatio\r\n\t\t\t\t\t\t: parseInt(this.expWidth));\r\n\t\t\tthis.expHeight &&\r\n\t\t\t\t(this.exportHeight =\r\n\t\t\t\t\tthis.expHeight.indexOf('upx') >= 0\r\n\t\t\t\t\t\t? parseInt(this.expHeight) * this.pxRatio\r\n\t\t\t\t\t\t: parseInt(this.expHeight));\r\n\r\n\t\t\tif (this.styleDisplay === 'flex') {\r\n\t\t\t\tthis.fDrawInit(true);\r\n\t\t\t}\r\n\t\t\tthis.fHideImg();\r\n\t\t},\r\n\t\tfSelect() {\r\n\t\t\tif (this.fSelecting) return;\r\n\t\t\tthis.fSelecting = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.fSelecting = false;\r\n\t\t\t}, 500);\r\n\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 1,\r\n\t\t\t\tsizeType: ['original', 'compressed'],\r\n\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\tsuccess: r => {\r\n\t\t\t\t\tuni.showLoading({ mask: true });\r\n\t\t\t\t\tlet path = (this.imgPath = r.tempFilePaths[0]);\r\n\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\tsrc: path,\r\n\t\t\t\t\t\tsuccess: r => {\r\n\t\t\t\t\t\t\tthis.imgWidth = r.width;\r\n\t\t\t\t\t\t\tthis.imgHeight = r.height;\r\n\t\t\t\t\t\t\tthis.path = path;\r\n\t\t\t\t\t\t\tif (!this.hasSel) {\r\n\t\t\t\t\t\t\t\tlet style = this.selStyle || {};\r\n\t\t\t\t\t\t\t\tif (this.selWidth && this.selHeight) {\r\n\t\t\t\t\t\t\t\t\tlet selWidth =\r\n\t\t\t\t\t\t\t\t\t\t\tthis.selWidth.indexOf('upx') >= 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t? parseInt(this.selWidth) * this.pxRatio\r\n\t\t\t\t\t\t\t\t\t\t\t\t: parseInt(this.selWidth),\r\n\t\t\t\t\t\t\t\t\t\tselHeight =\r\n\t\t\t\t\t\t\t\t\t\t\tthis.selHeight.indexOf('upx') >= 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t? parseInt(this.selHeight) * this.pxRatio\r\n\t\t\t\t\t\t\t\t\t\t\t\t: parseInt(this.selHeight);\r\n\t\t\t\t\t\t\t\t\tstyle.width = selWidth + 'px';\r\n\t\t\t\t\t\t\t\t\tstyle.height = selHeight + 'px';\r\n\t\t\t\t\t\t\t\t\tstyle.top =\r\n\t\t\t\t\t\t\t\t\t\t(this.windowHeight - selHeight - tabHeight) / 2 + 'px';\r\n\t\t\t\t\t\t\t\t\tstyle.left = (this.windowWidth - selWidth) / 2 + 'px';\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '裁剪框的宽或高没有设置',\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.selStyle = style;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (this.noBar) {\r\n\t\t\t\t\t\t\t\tthis.fDrawInit(true);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.hideTabBar({\r\n\t\t\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\t\t\tthis.fDrawInit(true);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tthis.$mHelper.toast('error3');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tfUpload() {\r\n\t\t\tif (this.fUploading) return;\r\n\t\t\tthis.fUploading = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.fUploading = false;\r\n\t\t\t}, 1000);\r\n\r\n\t\t\tlet style = this.selStyle,\r\n\t\t\t\tx = parseInt(style.left),\r\n\t\t\t\ty = parseInt(style.top),\r\n\t\t\t\twidth = parseInt(style.width),\r\n\t\t\t\theight = parseInt(style.height),\r\n\t\t\t\texpWidth = this.exportWidth || width,\r\n\t\t\t\texpHeight = this.exportHeight || height;\r\n\r\n\t\t\t// #ifdef H5\r\n\t\t\tx *= this.pixelRatio;\r\n\t\t\ty *= this.pixelRatio;\r\n\t\t\texpWidth = width;\r\n\t\t\texpHeight = height;\r\n\t\t\t// #endif\r\n\r\n\t\t\tuni.showLoading({ mask: true });\r\n\t\t\tthis.styleDisplay = 'none';\r\n\t\t\tthis.styleTop = '-10000px';\r\n\t\t\tthis.hasSel = false;\r\n\t\t\tthis.fHideImg();\r\n\t\t\tuni.canvasToTempFilePath(\r\n\t\t\t\t{\r\n\t\t\t\t\tx: x,\r\n\t\t\t\t\ty: y,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tdestWidth: expWidth,\r\n\t\t\t\t\tdestHeight: expHeight,\r\n\t\t\t\t\tcanvasId: 'avatar-canvas',\r\n\t\t\t\t\tfileType: 'png',\r\n\t\t\t\t\tquality: this.qlty,\r\n\t\t\t\t\tsuccess: r => {\r\n\t\t\t\t\t\tr = r.tempFilePath;\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tthis.btop(r).then(r => {\r\n\t\t\t\t\t\t\tif (this.exportWidth && this.exportHeight) {\r\n\t\t\t\t\t\t\t\tlet ctxCanvas = this.ctxCanvas;\r\n\t\t\t\t\t\t\t\t(expWidth = this.exportWidth), (expHeight = this.exportHeight);\r\n\r\n\t\t\t\t\t\t\t\tctxCanvas.drawImage(r, 0, 0, expWidth, expHeight);\r\n\t\t\t\t\t\t\t\tctxCanvas.draw(false, () => {\r\n\t\t\t\t\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\t\t\t\twidth: expWidth,\r\n\t\t\t\t\t\t\t\t\t\theight: expHeight,\r\n\t\t\t\t\t\t\t\t\t\tdestWidth: expWidth,\r\n\t\t\t\t\t\t\t\t\t\tdestHeight: expHeight,\r\n\t\t\t\t\t\t\t\t\t\tcanvasId: 'avatar-canvas',\r\n\t\t\t\t\t\t\t\t\t\tfileType: 'png',\r\n\t\t\t\t\t\t\t\t\t\tquality: this.qlty,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: r => {\r\n\t\t\t\t\t\t\t\t\t\t\tr = r.tempFilePath;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.btop(r).then(r => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$emit('upload', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex: this.indx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: this.rtn\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$mHelper.toast('error0');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$emit('upload', {\r\n\t\t\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\t\t\tindex: this.indx,\r\n\t\t\t\t\t\t\t\t\tdata: this.rtn\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\t\tthis.$emit('upload', {\r\n\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\tindex: this.indx,\r\n\t\t\t\t\t\t\tdata: this.rtn\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: res => {\r\n\t\t\t\t\t\tthis.$mHelper.toast('error1');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthis.noBar || uni.showTabBar();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tthis\r\n\t\t\t);\r\n\t\t},\r\n\t\tfPrvUpload() {\r\n\t\t\tif (this.fPrvUploading) return;\r\n\t\t\tthis.fPrvUploading = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.fPrvUploading = false;\r\n\t\t\t}, 1000);\r\n\r\n\t\t\tlet style = this.selStyle,\r\n\t\t\t\tdestWidth = parseInt(style.width),\r\n\t\t\t\tdestHeight = parseInt(style.height),\r\n\t\t\t\tprvX = this.prvX,\r\n\t\t\t\tprvY = this.prvY,\r\n\t\t\t\tprvWidth = this.prvWidth,\r\n\t\t\t\tprvHeight = this.prvHeight,\r\n\t\t\t\texpWidth = this.exportWidth || prvWidth,\r\n\t\t\t\texpHeight = this.exportHeight || prvHeight;\r\n\r\n\t\t\t// #ifdef H5\r\n\t\t\tprvX *= this.pixelRatio;\r\n\t\t\tprvY *= this.pixelRatio;\r\n\t\t\texpWidth = prvWidth;\r\n\t\t\texpHeight = prvHeight;\r\n\t\t\t// #endif\r\n\r\n\t\t\tuni.showLoading({ mask: true });\r\n\r\n\t\t\tthis.styleDisplay = 'none';\r\n\t\t\tthis.styleTop = '-10000px';\r\n\t\t\tthis.hasSel = false;\r\n\t\t\tthis.fHideImg();\r\n\t\t\tuni.canvasToTempFilePath(\r\n\t\t\t\t{\r\n\t\t\t\t\tx: prvX,\r\n\t\t\t\t\ty: prvY,\r\n\t\t\t\t\twidth: prvWidth,\r\n\t\t\t\t\theight: prvHeight,\r\n\t\t\t\t\tdestWidth: expWidth,\r\n\t\t\t\t\tdestHeight: expHeight,\r\n\t\t\t\t\tcanvasId: 'prv-canvas',\r\n\t\t\t\t\tfileType: 'png',\r\n\t\t\t\t\tquality: this.qlty,\r\n\t\t\t\t\tsuccess: r => {\r\n\t\t\t\t\t\tr = r.tempFilePath;\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tthis.btop(r).then(r => {\r\n\t\t\t\t\t\t\tif (this.exportWidth && this.exportHeight) {\r\n\t\t\t\t\t\t\t\tlet ctxCanvas = this.ctxCanvas;\r\n\t\t\t\t\t\t\t\t(expWidth = this.exportWidth), (expHeight = this.exportHeight);\r\n\r\n\t\t\t\t\t\t\t\tctxCanvas.drawImage(r, 0, 0, expWidth, expHeight);\r\n\t\t\t\t\t\t\t\tctxCanvas.draw(false, () => {\r\n\t\t\t\t\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\t\t\t\twidth: expWidth,\r\n\t\t\t\t\t\t\t\t\t\theight: expHeight,\r\n\t\t\t\t\t\t\t\t\t\tdestWidth: expWidth,\r\n\t\t\t\t\t\t\t\t\t\tdestHeight: expHeight,\r\n\t\t\t\t\t\t\t\t\t\tcanvasId: 'avatar-canvas',\r\n\t\t\t\t\t\t\t\t\t\tfileType: 'png',\r\n\t\t\t\t\t\t\t\t\t\tquality: this.qlty,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: r => {\r\n\t\t\t\t\t\t\t\t\t\t\tr = r.tempFilePath;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.btop(r).then(r => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$emit('upload', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex: this.indx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: this.rtn\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail: () => {}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$emit('upload', {\r\n\t\t\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\t\t\tindex: this.indx,\r\n\t\t\t\t\t\t\t\t\tdata: this.rtn\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\t\tthis.$emit('upload', {\r\n\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\tindex: this.indx,\r\n\t\t\t\t\t\t\tdata: this.rtn\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthis.noBar || uni.showTabBar();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tthis\r\n\t\t\t);\r\n\t\t},\r\n\t\tfDrawInit(ini = false) {\r\n\t\t\tlet allWidth = this.windowWidth,\r\n\t\t\t\tallHeight = this.windowHeight,\r\n\t\t\t\timgWidth = this.imgWidth,\r\n\t\t\t\timgHeight = this.imgHeight,\r\n\t\t\t\timgRadio = imgWidth / imgHeight,\r\n\t\t\t\tuseWidth = allWidth - 40,\r\n\t\t\t\tuseHeight = allHeight - tabHeight - 80,\r\n\t\t\t\tpixelRatio = this.pixelRatio,\r\n\t\t\t\tselWidth = parseInt(this.selStyle.width),\r\n\t\t\t\tselHeight = parseInt(this.selStyle.height);\r\n\r\n\t\t\tthis.fixWidth = 0;\r\n\t\t\tthis.fixHeight = 0;\r\n\t\t\tthis.lckWidth = 0;\r\n\t\t\tthis.lckHeight = 0;\r\n\t\t\tswitch (this.stc) {\r\n\t\t\t\tcase 'x':\r\n\t\t\t\t\tthis.fixWidth = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'y':\r\n\t\t\t\t\tthis.fixHeight = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'long':\r\n\t\t\t\t\tif (imgRadio > 1) this.fixWidth = 1;\r\n\t\t\t\t\telse this.fixHeight = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'short':\r\n\t\t\t\t\tif (imgRadio > 1) this.fixHeight = 1;\r\n\t\t\t\t\telse this.fixWidth = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'longSel':\r\n\t\t\t\t\tif (selWidth > selHeight) this.fixWidth = 1;\r\n\t\t\t\t\telse this.fixHeight = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'shortSel':\r\n\t\t\t\t\tif (selWidth > selHeight) this.fixHeight = 1;\r\n\t\t\t\t\telse this.fixWidth = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tswitch (this.lck) {\r\n\t\t\t\tcase 'x':\r\n\t\t\t\t\tthis.lckWidth = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'y':\r\n\t\t\t\t\tthis.lckHeight = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'long':\r\n\t\t\t\t\tif (imgRadio > 1) this.lckWidth = 1;\r\n\t\t\t\t\telse this.lckHeight = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'short':\r\n\t\t\t\t\tif (imgRadio > 1) this.lckHeight = 1;\r\n\t\t\t\t\telse this.lckWidth = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'longSel':\r\n\t\t\t\t\tif (selWidth > selHeight) this.lckWidth = 1;\r\n\t\t\t\t\telse this.lckHeight = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'shortSel':\r\n\t\t\t\t\tif (selWidth > selHeight) this.lckHeight = 1;\r\n\t\t\t\t\telse this.lckWidth = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (this.fixWidth) {\r\n\t\t\t\tuseWidth = selWidth;\r\n\t\t\t\tuseHeight = useWidth / imgRadio;\r\n\t\t\t} else if (this.fixHeight) {\r\n\t\t\t\tuseHeight = selHeight;\r\n\t\t\t\tuseWidth = useHeight * imgRadio;\r\n\t\t\t} else if (imgRadio < 1) {\r\n\t\t\t\tif (imgHeight < useHeight) {\r\n\t\t\t\t\tuseWidth = imgWidth;\r\n\t\t\t\t\tuseHeight = imgHeight;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuseHeight = useHeight;\r\n\t\t\t\t\tuseWidth = useHeight * imgRadio;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (imgWidth < useWidth) {\r\n\t\t\t\t\tuseWidth = imgWidth;\r\n\t\t\t\t\tuseHeight = imgHeight;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuseWidth = useWidth;\r\n\t\t\t\t\tuseHeight = useWidth / imgRadio;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.isin) {\r\n\t\t\t\tthis.scaleWidth = 0;\r\n\t\t\t\tthis.scaleHeight = 0;\r\n\t\t\t\tif (useWidth < selWidth) {\r\n\t\t\t\t\tuseWidth = selWidth;\r\n\t\t\t\t\tuseHeight = useWidth / imgRadio;\r\n\t\t\t\t\tthis.lckHeight = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (useHeight < selHeight) {\r\n\t\t\t\t\tuseHeight = selHeight;\r\n\t\t\t\t\tuseWidth = useHeight * imgRadio;\r\n\t\t\t\t\tthis.lckWidth = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.scaleSize = 1;\r\n\t\t\tthis.rotateDeg = 0;\r\n\t\t\tthis.posWidth = (allWidth - useWidth) / 2;\r\n\t\t\tthis.posHeight = (allHeight - useHeight - tabHeight) / 2;\r\n\t\t\tthis.useWidth = useWidth;\r\n\t\t\tthis.useHeight = useHeight;\r\n\r\n\t\t\tlet style = this.selStyle,\r\n\t\t\t\tleft = parseInt(style.left),\r\n\t\t\t\ttop = parseInt(style.top),\r\n\t\t\t\twidth = parseInt(style.width),\r\n\t\t\t\theight = parseInt(style.height),\r\n\t\t\t\tcanvas = this.canvas,\r\n\t\t\t\tcanvasOper = this.canvasOper,\r\n\t\t\t\tctxCanvas = this.ctxCanvas,\r\n\t\t\t\tctxCanvasOper = this.ctxCanvasOper;\r\n\r\n\t\t\tctxCanvasOper.setLineWidth(3);\r\n\t\t\tctxCanvasOper.setStrokeStyle('grey');\r\n\t\t\tctxCanvasOper.setGlobalAlpha(0.4);\r\n\t\t\tctxCanvasOper.setFillStyle('black');\r\n\t\t\tctxCanvasOper.strokeRect(left, top, width, height);\r\n\t\t\tctxCanvasOper.fillRect(0, 0, this.windowWidth, top);\r\n\t\t\tctxCanvasOper.fillRect(0, top, left, height);\r\n\t\t\tctxCanvasOper.fillRect(\r\n\t\t\t\t0,\r\n\t\t\t\ttop + height,\r\n\t\t\t\tthis.windowWidth,\r\n\t\t\t\tthis.windowHeight - height - top - tabHeight\r\n\t\t\t);\r\n\t\t\tctxCanvasOper.fillRect(\r\n\t\t\t\tleft + width,\r\n\t\t\t\ttop,\r\n\t\t\t\tthis.windowWidth - width - left,\r\n\t\t\t\theight\r\n\t\t\t);\r\n\t\t\tctxCanvasOper.setStrokeStyle('red');\r\n\t\t\tctxCanvasOper.moveTo(left + 20, top);\r\n\t\t\tctxCanvasOper.lineTo(left, top);\r\n\t\t\tctxCanvasOper.lineTo(left, top + 20);\r\n\t\t\tctxCanvasOper.moveTo(left + width - 20, top);\r\n\t\t\tctxCanvasOper.lineTo(left + width, top);\r\n\t\t\tctxCanvasOper.lineTo(left + width, top + 20);\r\n\t\t\tctxCanvasOper.moveTo(left + 20, top + height);\r\n\t\t\tctxCanvasOper.lineTo(left, top + height);\r\n\t\t\tctxCanvasOper.lineTo(left, top + height - 20);\r\n\t\t\tctxCanvasOper.moveTo(left + width - 20, top + height);\r\n\t\t\tctxCanvasOper.lineTo(left + width, top + height);\r\n\t\t\tctxCanvasOper.lineTo(left + width, top + height - 20);\r\n\t\t\tctxCanvasOper.stroke();\r\n\r\n\t\t\tctxCanvasOper.draw(false, () => {\r\n\t\t\t\tif (ini) {\r\n\t\t\t\t\tthis.styleDisplay = 'flex';\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tthis.styleTop = this.drawTop + 'px';\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\tthis.styleTop = '0';\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tctxCanvas.setFillStyle('black');\r\n\t\t\t\t\tthis.fDrawImage();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.$emit('avtinit');\r\n\t\t},\r\n\t\tfDrawImage() {\r\n\t\t\tlet tm_now = Date.now();\r\n\t\t\tif (tm_now - this.drawTm < 20) return;\r\n\t\t\tthis.drawTm = tm_now;\r\n\t\t\tlet ctxCanvas = this.ctxCanvas;\r\n\t\t\tctxCanvas.fillRect(0, 0, this.windowWidth, this.windowHeight - tabHeight);\r\n\t\t\tctxCanvas.translate(\r\n\t\t\t\tthis.posWidth + this.useWidth / 2,\r\n\t\t\t\tthis.posHeight + this.useHeight / 2\r\n\t\t\t);\r\n\t\t\tctxCanvas.scale(this.scaleSize, this.scaleSize);\r\n\t\t\tctxCanvas.rotate((this.rotateDeg * Math.PI) / 180);\r\n\t\t\tctxCanvas.drawImage(\r\n\t\t\t\tthis.imgPath,\r\n\t\t\t\t-this.useWidth / 2,\r\n\t\t\t\t-this.useHeight / 2,\r\n\t\t\t\tthis.useWidth,\r\n\t\t\t\tthis.useHeight\r\n\t\t\t);\r\n\t\t\tctxCanvas.draw(false);\r\n\t\t},\r\n\t\tfHideImg() {\r\n\t\t\tthis.prvImg = '';\r\n\t\t\tthis.prvTop = '-10000px';\r\n\t\t\tthis.showOper = true;\r\n\t\t\tthis.prvImgData = null;\r\n\t\t\tthis.target = null;\r\n\t\t},\r\n\t\tfClose() {\r\n\t\t\tthis.styleDisplay = 'none';\r\n\t\t\tthis.styleTop = '-10000px';\r\n\t\t\tthis.hasSel = false;\r\n\t\t\tthis.fHideImg();\r\n\t\t\tthis.noBar || uni.showTabBar();\r\n\t\t},\r\n\t\tfPreview() {\r\n\t\t\tif (this.fPreviewing) return;\r\n\t\t\tthis.fPreviewing = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.fPreviewing = false;\r\n\t\t\t}, 1000);\r\n\r\n\t\t\tlet style = this.selStyle,\r\n\t\t\t\tx = parseInt(style.left),\r\n\t\t\t\ty = parseInt(style.top),\r\n\t\t\t\twidth = parseInt(style.width),\r\n\t\t\t\theight = parseInt(style.height);\r\n\r\n\t\t\t// #ifdef H5\r\n\t\t\tx *= this.pixelRatio;\r\n\t\t\ty *= this.pixelRatio;\r\n\t\t\t// #endif\r\n\r\n\t\t\tuni.showLoading({ mask: true });\r\n\r\n\t\t\tuni.canvasToTempFilePath(\r\n\t\t\t\t{\r\n\t\t\t\t\tx: x,\r\n\t\t\t\t\ty: y,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tcanvasId: 'avatar-canvas',\r\n\t\t\t\t\tfileType: 'png',\r\n\t\t\t\t\tquality: this.qlty,\r\n\t\t\t\t\tsuccess: r => {\r\n\t\t\t\t\t\tthis.prvImgTmp = r = r.tempFilePath;\r\n\r\n\t\t\t\t\t\tlet ctxCanvasPrv = this.ctxCanvasPrv,\r\n\t\t\t\t\t\t\tprvX = this.windowWidth,\r\n\t\t\t\t\t\t\tprvY = parseInt(this.cvsStyleHeight),\r\n\t\t\t\t\t\t\tprvWidth = parseInt(this.selStyle.width),\r\n\t\t\t\t\t\t\tprvHeight = parseInt(this.selStyle.height),\r\n\t\t\t\t\t\t\tuseWidth = prvX - 40,\r\n\t\t\t\t\t\t\tuseHeight = prvY - 80,\r\n\t\t\t\t\t\t\tradio = useWidth / prvWidth,\r\n\t\t\t\t\t\t\trHeight = prvHeight * radio;\r\n\t\t\t\t\t\tif (rHeight < useHeight) {\r\n\t\t\t\t\t\t\tprvWidth = useWidth;\r\n\t\t\t\t\t\t\tprvHeight = rHeight;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tradio = useHeight / prvHeight;\r\n\t\t\t\t\t\t\tprvWidth *= radio;\r\n\t\t\t\t\t\t\tprvHeight = useHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tctxCanvasPrv.setFillStyle('black');\r\n\t\t\t\t\t\tctxCanvasPrv.fillRect(0, 0, prvX, prvY);\r\n\t\t\t\t\t\tthis.prvX = prvX = (prvX - prvWidth) / 2;\r\n\t\t\t\t\t\tthis.prvY = prvY = (prvY - prvHeight) / 2;\r\n\t\t\t\t\t\tthis.prvWidth = prvWidth;\r\n\t\t\t\t\t\tthis.prvHeight = prvHeight;\r\n\t\t\t\t\t\tctxCanvasPrv.drawImage(r, prvX, prvY, prvWidth, prvHeight);\r\n\t\t\t\t\t\tctxCanvasPrv.draw(false);\r\n\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tthis.btop(r).then(r => {\r\n\t\t\t\t\t\t\tthis.showOper = false;\r\n\t\t\t\t\t\t\tthis.prvTop = this.drawTop + 'px';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\t\tif (this.platform != 'android') {\r\n\t\t\t\t\t\t\tthis.showOper = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.prvTop = '0';\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tthis\r\n\t\t\t);\r\n\t\t},\r\n\t\tfChooseImg(index = undefined, params = undefined, data = undefined) {\r\n\t\t\tif (params) {\r\n\t\t\t\tlet selWidth = params.selWidth,\r\n\t\t\t\t\tselHeight = params.selHeight,\r\n\t\t\t\t\texpWidth = params.expWidth,\r\n\t\t\t\t\texpHeight = params.expHeight,\r\n\t\t\t\t\tquality = params.quality,\r\n\t\t\t\t\tcanRotate = params.canRotate,\r\n\t\t\t\t\tcanScale = params.canScale,\r\n\t\t\t\t\tminScale = params.minScale,\r\n\t\t\t\t\tmaxScale = params.maxScale,\r\n\t\t\t\t\tstretch = params.stretch,\r\n\t\t\t\t\tinner = params.inner,\r\n\t\t\t\t\tlock = params.lock;\r\n\r\n\t\t\t\texpWidth &&\r\n\t\t\t\t\t(this.exportWidth =\r\n\t\t\t\t\t\texpWidth.indexOf('upx') >= 0\r\n\t\t\t\t\t\t\t? parseInt(expWidth) * this.pxRatio\r\n\t\t\t\t\t\t\t: parseInt(expWidth));\r\n\t\t\t\texpHeight &&\r\n\t\t\t\t\t(this.exportHeight =\r\n\t\t\t\t\t\texpHeight.indexOf('upx') >= 0\r\n\t\t\t\t\t\t\t? parseInt(expHeight) * this.pxRatio\r\n\t\t\t\t\t\t\t: parseInt(expHeight));\r\n\t\t\t\tthis.letRotate = canRotate === 'false' ? 0 : 1;\r\n\t\t\t\tthis.letScale = canScale === 'false' ? 0 : 1;\r\n\t\t\t\tthis.qlty = parseInt(quality) || 0.9;\r\n\t\t\t\tthis.mnScale = minScale || 0.3;\r\n\t\t\t\tthis.mxScale = maxScale || 4;\r\n\t\t\t\tthis.stc = stretch;\r\n\t\t\t\tthis.isin = inner === 'true' ? 1 : 0;\r\n\t\t\t\tthis.lck = lock;\r\n\t\t\t\tif (this.isin) {\r\n\t\t\t\t\tthis.btnWidth = '24%';\r\n\t\t\t\t\tthis.btnDsp = 'none';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.btnWidth = '19%';\r\n\t\t\t\t\tthis.btnDsp = 'flex';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (selWidth && selHeight) {\r\n\t\t\t\t\tselWidth =\r\n\t\t\t\t\t\tselWidth.indexOf('upx') >= 0\r\n\t\t\t\t\t\t\t? parseInt(selWidth) * this.pxRatio\r\n\t\t\t\t\t\t\t: parseInt(selWidth);\r\n\t\t\t\t\tselHeight =\r\n\t\t\t\t\t\tselHeight.indexOf('upx') >= 0\r\n\t\t\t\t\t\t\t? parseInt(selHeight) * this.pxRatio\r\n\t\t\t\t\t\t\t: parseInt(selHeight);\r\n\t\t\t\t\tthis.selStyle.width = selWidth + 'px';\r\n\t\t\t\t\tthis.selStyle.height = selHeight + 'px';\r\n\t\t\t\t\tthis.selStyle.top =\r\n\t\t\t\t\t\t(this.windowHeight - selHeight - tabHeight) / 2 + 'px';\r\n\t\t\t\t\tthis.selStyle.left = (this.windowWidth - selWidth) / 2 + 'px';\r\n\t\t\t\t\tthis.hasSel = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.rtn = data;\r\n\t\t\tthis.indx = index;\r\n\t\t\tthis.fSelect();\r\n\t\t},\r\n\t\tfRotate() {\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tif (this.platform === 'android') {\r\n\t\t\t\tif (this.fRotateing) return;\r\n\t\t\t\tthis.fRotateing = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.fRotateing = false;\r\n\t\t\t\t}, 500);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// if(this.letRotate) {\r\n\t\t\tthis.rotateDeg += 90 - (this.rotateDeg % 90);\r\n\t\t\tthis.fDrawImage();\r\n\t\t\t// }\r\n\t\t},\r\n\t\tfStart(e) {\r\n\t\t\tlet touches = e.touches,\r\n\t\t\t\ttouch0 = touches[0],\r\n\t\t\t\ttouch1 = touches[1];\r\n\r\n\t\t\tthis.touch0 = touch0;\r\n\t\t\tthis.touch1 = touch1;\r\n\r\n\t\t\tif (touch1) {\r\n\t\t\t\tlet x = touch1.x - touch0.x,\r\n\t\t\t\t\ty = touch1.y - touch0.y;\r\n\t\t\t\tthis.fgDistance = Math.sqrt(x * x + y * y);\r\n\t\t\t}\r\n\t\t},\r\n\t\tfMove(e) {\r\n\t\t\tlet touches = e.touches,\r\n\t\t\t\ttouch0 = touches[0],\r\n\t\t\t\ttouch1 = touches[1];\r\n\r\n\t\t\tif (touch1) {\r\n\t\t\t\tlet x = touch1.x - touch0.x,\r\n\t\t\t\t\ty = touch1.y - touch0.y,\r\n\t\t\t\t\tfgDistance = Math.sqrt(x * x + y * y),\r\n\t\t\t\t\tscaleSize = 0.005 * (fgDistance - this.fgDistance),\r\n\t\t\t\t\tbeScaleSize = this.scaleSize + scaleSize;\r\n\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif (!this.letScale) break;\r\n\t\t\t\t\tif (beScaleSize < this.mnScale) break;\r\n\t\t\t\t\tif (beScaleSize > this.mxScale) break;\r\n\t\t\t\t\tif (this.isin) {\r\n\t\t\t\t\t\tlet imgWidth = this.useWidth * beScaleSize,\r\n\t\t\t\t\t\t\timgHeight = this.useHeight * beScaleSize,\r\n\t\t\t\t\t\t\trx0 = this.posWidth + this.useWidth / 2,\r\n\t\t\t\t\t\t\try0 = this.posHeight + this.useHeight / 2,\r\n\t\t\t\t\t\t\tl = rx0 - imgWidth / 2,\r\n\t\t\t\t\t\t\tt = ry0 - imgHeight / 2,\r\n\t\t\t\t\t\t\tr = l + imgWidth,\r\n\t\t\t\t\t\t\tb = t + imgHeight,\r\n\t\t\t\t\t\t\tleft = parseInt(this.selStyle.left),\r\n\t\t\t\t\t\t\ttop = parseInt(this.selStyle.top),\r\n\t\t\t\t\t\t\twidth = parseInt(this.selStyle.width),\r\n\t\t\t\t\t\t\theight = parseInt(this.selStyle.height);\r\n\t\t\t\t\t\tif (left < l || left + width > r || top < t || top + height > b)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tthis.scaleWidth = (this.useWidth - imgWidth) / 2;\r\n\t\t\t\t\t\tthis.scaleHeight = (this.useHeight - imgHeight) / 2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.scaleSize = beScaleSize;\r\n\t\t\t\t} while (0);\r\n\t\t\t\tthis.fgDistance = fgDistance;\r\n\r\n\t\t\t\tif (touch1.x !== touch0.x && this.letRotate) {\r\n\t\t\t\t\tx = (this.touch1.y - this.touch0.y) / (this.touch1.x - this.touch0.x);\r\n\t\t\t\t\ty = (touch1.y - touch0.y) / (touch1.x - touch0.x);\r\n\t\t\t\t\tthis.rotateDeg += (Math.atan((y - x) / (1 + x * y)) * 180) / Math.PI;\r\n\t\t\t\t\tthis.touch0 = touch0;\r\n\t\t\t\t\tthis.touch1 = touch1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.fDrawImage();\r\n\t\t\t} else if (this.touch0) {\r\n\t\t\t\tlet x = touch0.x - this.touch0.x,\r\n\t\t\t\t\ty = touch0.y - this.touch0.y,\r\n\t\t\t\t\tbeX = this.posWidth + x,\r\n\t\t\t\t\tbeY = this.posHeight + y;\r\n\t\t\t\tif (this.isin) {\r\n\t\t\t\t\tlet imgWidth = this.useWidth * this.scaleSize,\r\n\t\t\t\t\t\timgHeight = this.useHeight * this.scaleSize,\r\n\t\t\t\t\t\trx0 = beX + this.useWidth / 2,\r\n\t\t\t\t\t\try0 = beY + this.useHeight / 2,\r\n\t\t\t\t\t\tl = rx0 - imgWidth / 2,\r\n\t\t\t\t\t\tt = ry0 - imgHeight / 2,\r\n\t\t\t\t\t\tr = l + imgWidth,\r\n\t\t\t\t\t\tb = t + imgHeight,\r\n\t\t\t\t\t\tleft = parseInt(this.selStyle.left),\r\n\t\t\t\t\t\ttop = parseInt(this.selStyle.top),\r\n\t\t\t\t\t\twidth = parseInt(this.selStyle.width),\r\n\t\t\t\t\t\theight = parseInt(this.selStyle.height);\r\n\t\t\t\t\tif (!this.lckWidth && Math.abs(x) < 100) {\r\n\t\t\t\t\t\tif (left >= l && left + width <= r) {\r\n\t\t\t\t\t\t\tthis.posWidth = beX;\r\n\t\t\t\t\t\t} else if (left < l) {\r\n\t\t\t\t\t\t\tthis.posWidth = left - this.scaleWidth;\r\n\t\t\t\t\t\t} else if (left + width > r) {\r\n\t\t\t\t\t\t\tthis.posWidth = left - (imgWidth - width) - this.scaleWidth;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.lckHeight && Math.abs(y) < 100) {\r\n\t\t\t\t\t\tif (top >= t && top + height <= b) {\r\n\t\t\t\t\t\t\tthis.posHeight = beY;\r\n\t\t\t\t\t\t} else if (top < t) {\r\n\t\t\t\t\t\t\tthis.posHeight = top - this.scaleHeight;\r\n\t\t\t\t\t\t} else if (top + height > b) {\r\n\t\t\t\t\t\t\tthis.posHeight = top - (imgHeight - height) - this.scaleHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (Math.abs(x) < 100 && !this.lckWidth) this.posWidth = beX;\r\n\t\t\t\t\tif (Math.abs(y) < 100 && !this.lckHeight) this.posHeight = beY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.touch0 = touch0;\r\n\t\t\t\tthis.fDrawImage();\r\n\t\t\t}\r\n\t\t},\r\n\t\tfEnd(e) {\r\n\t\t\tlet touches = e.touches,\r\n\t\t\t\ttouch0 = touches && touches[0],\r\n\t\t\t\ttouch1 = touches && touches[1];\r\n\t\t\tif (touch0) {\r\n\t\t\t\tthis.touch0 = touch0;\r\n\t\t\t} else {\r\n\t\t\t\tthis.touch0 = null;\r\n\t\t\t\tthis.touch1 = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tfGetImgData() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tlet prvX = this.prvX,\r\n\t\t\t\t\tprvY = this.prvY,\r\n\t\t\t\t\tprvWidth = this.prvWidth,\r\n\t\t\t\t\tprvHeight = this.prvHeight;\r\n\t\t\t\t// #ifdef APP-PLUS||H5\r\n\t\t\t\tprvX *= this.pixelRatio;\r\n\t\t\t\tprvY *= this.pixelRatio;\r\n\t\t\t\tprvWidth *= this.pixelRatio;\r\n\t\t\t\tprvHeight *= this.pixelRatio;\r\n\t\t\t\t// #endif\r\n\t\t\t\tuni.canvasGetImageData(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcanvasId: 'prv-canvas',\r\n\t\t\t\t\t\tx: prvX,\r\n\t\t\t\t\t\ty: prvY,\r\n\t\t\t\t\t\twidth: prvWidth,\r\n\t\t\t\t\t\theight: prvHeight,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tresolve(res.data);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthis\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync fColorChange(e) {\r\n\t\t\tlet tm_now = Date.now();\r\n\t\t\tif (tm_now - this.prvTm < 100) return;\r\n\t\t\tthis.prvTm = tm_now;\r\n\r\n\t\t\tuni.showLoading({ mask: true });\r\n\r\n\t\t\tif (!this.prvImgData) {\r\n\t\t\t\tif (!(this.prvImgData = await this.fGetImgData().catch(res => {})))\r\n\t\t\t\t\treturn;\r\n\t\t\t\tthis.target = new Uint8ClampedArray(this.prvImgData.length);\r\n\t\t\t}\r\n\r\n\t\t\tlet data = this.prvImgData,\r\n\t\t\t\ttarget = this.target,\r\n\t\t\t\ti = e.detail.value,\r\n\t\t\t\tr,\r\n\t\t\t\tg,\r\n\t\t\t\tb,\r\n\t\t\t\ta,\r\n\t\t\t\th,\r\n\t\t\t\ts,\r\n\t\t\t\tl,\r\n\t\t\t\td,\r\n\t\t\t\tp,\r\n\t\t\t\tq,\r\n\t\t\t\tt,\r\n\t\t\t\tmin,\r\n\t\t\t\tmax,\r\n\t\t\t\thK,\r\n\t\t\t\ttR,\r\n\t\t\t\ttG,\r\n\t\t\t\ttB;\r\n\r\n\t\t\tif (i === 0) {\r\n\t\t\t\ttarget = data;\r\n\t\t\t} else {\r\n\t\t\t\ti = (i + 100) / 200;\r\n\t\t\t\tif (i < 0.005) i = 0;\r\n\t\t\t\tif (i > 0.995) i = 1;\r\n\t\t\t\tfor (let n = data.length - 1; n >= 0; n -= 4) {\r\n\t\t\t\t\tr = data[n - 3] / 255;\r\n\t\t\t\t\tg = data[n - 2] / 255;\r\n\t\t\t\t\tb = data[n - 1] / 255;\r\n\t\t\t\t\tmax = Math.max(r, g, b);\r\n\t\t\t\t\tmin = Math.min(r, g, b);\r\n\t\t\t\t\td = max - min;\r\n\t\t\t\t\tif (max === min) {\r\n\t\t\t\t\t\th = 0;\r\n\t\t\t\t\t} else if (max === r && g >= b) {\r\n\t\t\t\t\t\th = 60 * ((g - b) / d);\r\n\t\t\t\t\t} else if (max === r && g < b) {\r\n\t\t\t\t\t\th = 60 * ((g - b) / d) + 360;\r\n\t\t\t\t\t} else if (max === g) {\r\n\t\t\t\t\t\th = 60 * ((b - r) / d) + 120;\r\n\t\t\t\t\t} else if (max === b) {\r\n\t\t\t\t\t\th = 60 * ((r - g) / d) + 240;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tl = (max + min) / 2;\r\n\t\t\t\t\tif (l === 0 || max === min) {\r\n\t\t\t\t\t\ts = 0;\r\n\t\t\t\t\t} else if (0 < l && l <= 0.5) {\r\n\t\t\t\t\t\ts = d / (2 * l);\r\n\t\t\t\t\t} else if (l > 0.5) {\r\n\t\t\t\t\t\ts = d / (2 - 2 * l);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata[n] && (a = data[n]);\r\n\r\n\t\t\t\t\tif (i < 0.5) {\r\n\t\t\t\t\t\ts = (s * i) / 0.5;\r\n\t\t\t\t\t} else if (i > 0.5) {\r\n\t\t\t\t\t\ts = 2 * s + 2 * i - (s * i) / 0.5 - 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (s === 0) {\r\n\t\t\t\t\t\tr = g = b = Math.round(l * 255);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (l < 0.5) {\r\n\t\t\t\t\t\t\tq = l * (1 + s);\r\n\t\t\t\t\t\t} else if (l >= 0.5) {\r\n\t\t\t\t\t\t\tq = l + s - l * s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tp = 2 * l - q;\r\n\t\t\t\t\t\thK = h / 360;\r\n\t\t\t\t\t\ttR = hK + 1 / 3;\r\n\t\t\t\t\t\ttG = hK;\r\n\t\t\t\t\t\ttB = hK - 1 / 3;\r\n\t\t\t\t\t\tlet correctRGB = t => {\r\n\t\t\t\t\t\t\tif (t < 0) {\r\n\t\t\t\t\t\t\t\treturn t + 1.0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (t > 1) {\r\n\t\t\t\t\t\t\t\treturn t - 1.0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn t;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tlet createRGB = t => {\r\n\t\t\t\t\t\t\tif (t < 1 / 6) {\r\n\t\t\t\t\t\t\t\treturn p + (q - p) * 6 * t;\r\n\t\t\t\t\t\t\t} else if (t >= 1 / 6 && t < 1 / 2) {\r\n\t\t\t\t\t\t\t\treturn q;\r\n\t\t\t\t\t\t\t} else if (t >= 1 / 2 && t < 2 / 3) {\r\n\t\t\t\t\t\t\t\treturn p + (q - p) * 6 * (2 / 3 - t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn p;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tr = tR = Math.round(createRGB(correctRGB(tR)) * 255);\r\n\t\t\t\t\t\tg = tG = Math.round(createRGB(correctRGB(tG)) * 255);\r\n\t\t\t\t\t\tb = tB = Math.round(createRGB(correctRGB(tB)) * 255);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ta && (target[n] = a);\r\n\t\t\t\t\ttarget[n - 3] = r;\r\n\t\t\t\t\ttarget[n - 2] = g;\r\n\t\t\t\t\ttarget[n - 1] = b;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet prvX = this.prvX,\r\n\t\t\t\tprvY = this.prvY,\r\n\t\t\t\tprvWidth = this.prvWidth,\r\n\t\t\t\tprvHeight = this.prvHeight;\r\n\r\n\t\t\tthis.ctxCanvasPrv.setFillStyle('black');\r\n\t\t\tthis.ctxCanvasPrv.fillRect(prvX, prvY, prvWidth, prvHeight);\r\n\t\t\tthis.ctxCanvasPrv.draw(true);\r\n\r\n\t\t\t// #ifdef APP-PLUS||H5\r\n\t\t\tprvX *= this.pixelRatio;\r\n\t\t\tprvY *= this.pixelRatio;\r\n\t\t\tprvWidth *= this.pixelRatio;\r\n\t\t\tprvHeight *= this.pixelRatio;\r\n\t\t\t// #endif\r\n\t\t\tuni.canvasPutImageData(\r\n\t\t\t\t{\r\n\t\t\t\t\tcanvasId: 'prv-canvas',\r\n\t\t\t\t\tx: prvX,\r\n\t\t\t\t\ty: prvY,\r\n\t\t\t\t\twidth: prvWidth,\r\n\t\t\t\t\theight: prvHeight,\r\n\t\t\t\t\tdata: target,\r\n\t\t\t\t\tfail() {},\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tthis\r\n\t\t\t);\r\n\t\t},\r\n\t\tbtop(base64) {\r\n\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\tvar arr = base64.split(','),\r\n\t\t\t\t\tmime = arr[0].match(/:(.*?);/)[1],\r\n\t\t\t\t\tbstr = atob(arr[1]),\r\n\t\t\t\t\tn = bstr.length,\r\n\t\t\t\t\tu8arr = new Uint8Array(n);\r\n\t\t\t\twhile (n--) {\r\n\t\t\t\t\tu8arr[n] = bstr.charCodeAt(n);\r\n\t\t\t\t}\r\n\t\t\t\treturn resolve(\r\n\t\t\t\t\t(window.URL || window.webkitURL).createObjectURL(\r\n\t\t\t\t\t\tnew Blob([u8arr], { type: mime })\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.my-canvas {\r\n\tdisplay: flex;\r\n\tposition: fixed !important;\r\n\tbackground: #000000;\r\n\tleft: 0;\r\n\tz-index: 100000;\r\n\twidth: 100%;\r\n}\r\n.my-avatar {\r\n\twidth: 150upx;\r\n\theight: 150upx;\r\n\tborder-radius: 100%;\r\n}\r\n.oper-canvas {\r\n\tdisplay: flex;\r\n\tposition: fixed !important;\r\n\tleft: 0;\r\n\tz-index: 100001;\r\n\twidth: 100%;\r\n}\r\n.prv-canvas {\r\n\tdisplay: flex;\r\n\tposition: fixed !important;\r\n\tbackground: #000000;\r\n\tleft: 0;\r\n\tz-index: 200000;\r\n\twidth: 100%;\r\n}\r\n.oper-wrapper {\r\n\theight: 50px;\r\n\tposition: fixed !important;\r\n\tbox-sizing: border-box;\r\n\tborder: 1px solid #f1f1f1;\r\n\tbackground: #ffffff;\r\n\twidth: 100%;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tz-index: 100009;\r\n\tflex-direction: row;\r\n}\r\n.oper {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\tpadding: 10upx 20upx;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbox-sizing: border-box;\r\n\talign-self: center;\r\n}\r\n.btn-wrapper {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\t/* #ifndef H5 */\r\n\tflex-grow: 1;\r\n\t/* #endif */\r\n\t/* #ifdef H5 */\r\n\theight: 50px;\r\n\t/* #endif */\r\n\tjustify-content: space-between;\r\n}\r\n.btn-wrapper view {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 16px;\r\n\tcolor: #333;\r\n\tborder: 1px solid #f1f1f1;\r\n\tborder-radius: 6%;\r\n}\r\n.hover {\r\n\tbackground: #f1f1f1;\r\n\tborder-radius: 6%;\r\n}\r\n.clr-wrapper {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-grow: 1;\r\n}\r\n.clr-wrapper view {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 16px;\r\n\tcolor: #333;\r\n\tborder: 1px solid #f1f1f1;\r\n\tborder-radius: 6%;\r\n}\r\n.my-slider {\r\n\tflex-grow: 1;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rf-avatar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rf-avatar.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1735447286343\n      var cssReload = require(\"D:/CODE/park/park-vue/uniapp/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}