{"version":3,"sources":["webpack:///./src/components/rf-qrcode/index.vue?cbec","webpack:///./src/components/rf-qrcode/index.vue?c3a4","webpack:///./src/components/rf-qrcode/index.vue?299c","webpack:///./src/components/rf-qrcode/index.vue?818c","uni-app:///src/components/rf-qrcode/index.vue"],"names":["_uqrcode","_interopRequireDefault","require","e","__esModule","default","_regeneratorRuntime","props","cid","type","String","required","text","size","Number","margin","backgroundColor","foregroundColor","backgroundImage","logo","makeOnLoad","Boolean","data","filePath","mounted","make","methods","_make","_asyncToGenerator","mark","_callee","options","wrap","_callee$","_context","prev","next","canvasId","componentInstance","makeSync","sent","drawBackgroundImageSync","drawLogoSync","makeComplete","stop","apply","arguments","$emit","drawBackgroundImage","_this","ctx","uni","createCanvasContext","drawImage","draw","canvasToTempFilePath","success","res","tempFilePath","fail","error","_drawBackgroundImageSync","_callee2","_this2","_callee2$","_context2","abrupt","Promise","resolve","reject","_x","fillRoundRect","r","x","y","w","h","save","translate","beginPath","arc","Math","PI","lineTo","closePath","setFillStyle","fill","restore","drawLogo","_this3","logoSize","logoX","logoY","borderSize","borderX","borderY","borderRadius","_drawLogoSync","_callee3","_this4","_callee3$","_context3","_x2","_makeSync","_callee4","_callee4$","_context4","uQRCode","_x3"],"mappings":"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","file":"components/rf-qrcode/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7dd2e89f&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/rf-qrcode/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7dd2e89f&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<image v-if=\"filePath\" :src=\"filePath\" :style=\"{ width: `${size}px`, height: `${size}px` }\"></image>\r\n\t\t<canvas\r\n      v-if=\"!filePath\"\r\n\t\t\t:id=\"cid\"\r\n\t\t\t:canvas-id=\"cid\"\r\n\t\t\t:style=\"{ width: `${size}px`, height: `${size}px` }\"\r\n\t\t/>\r\n\t</view>\r\n</template>\r\n<script>\r\nimport uQRCode from '@/utils/uqrcode.js';\r\nexport default {\r\n\tprops: {\r\n\t\tcid: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsize: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 129\r\n\t\t},\r\n\t\tmargin: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#ffffff'\r\n\t\t},\r\n\t\tforegroundColor: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#000000'\r\n\t\t},\r\n\t\tbackgroundImage: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tmakeOnLoad: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tfilePath: ''\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.makeOnLoad) {\r\n\t\t\tthis.make();\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync make() {\r\n\t\t\tconst options = {\r\n\t\t\t\tcanvasId: this.cid,\r\n\t\t\t\tcomponentInstance: this,\r\n\t\t\t\ttext: this.text,\r\n\t\t\t\tsize: this.size,\r\n\t\t\t\tmargin: this.margin,\r\n\t\t\t\tbackgroundColor: this.backgroundImage\r\n\t\t\t\t\t? 'rgba(255,255,255,0)'\r\n\t\t\t\t\t: this.backgroundColor,\r\n\t\t\t\tforegroundColor: this.foregroundColor\r\n\t\t\t};\r\n\t\t\tlet filePath = await this.makeSync(options);\r\n\t\t\tif (this.backgroundImage) {\r\n\t\t\t\tfilePath = await this.drawBackgroundImageSync(filePath);\r\n\t\t\t}\r\n\t\t\tif (this.logo) {\r\n\t\t\t\tfilePath = await this.drawLogoSync(filePath);\r\n\t\t\t}\r\n\t\t\tthis.filePath = filePath;\r\n\t\t\tthis.makeComplete(filePath);\r\n\t\t},\r\n\t\tmakeComplete(filePath) {\r\n\t\t\tthis.$emit('makeComplete', filePath);\r\n\t\t},\r\n\t\tdrawBackgroundImage(options) {\r\n\t\t\tconst ctx = uni.createCanvasContext(this.cid, this);\r\n\r\n\t\t\tctx.drawImage(this.backgroundImage, 0, 0, this.size, this.size);\r\n\r\n\t\t\tctx.drawImage(options.filePath, 0, 0, this.size, this.size);\r\n\r\n\t\t\tctx.draw(false, () => {\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tcanvasId: this.cid,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\toptions.success && options.success(res.tempFilePath);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: error => {\r\n\t\t\t\t\t\toptions.fail && options.fail(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync drawBackgroundImageSync(filePath) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.drawBackgroundImage({\r\n\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: error => {\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tfillRoundRect(ctx, r, x, y, w, h) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate(x, y);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(w - r, h - r, r, 0, Math.PI / 2);\r\n\t\t\tctx.lineTo(r, h);\r\n\t\t\tctx.arc(r, h - r, r, Math.PI / 2, Math.PI);\r\n\t\t\tctx.lineTo(0, r);\r\n\t\t\tctx.arc(r, r, r, Math.PI, (Math.PI * 3) / 2);\r\n\t\t\tctx.lineTo(w - r, 0);\r\n\t\t\tctx.arc(w - r, r, r, (Math.PI * 3) / 2, Math.PI * 2);\r\n\t\t\tctx.lineTo(w, h - r);\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.setFillStyle('#ffffff');\r\n\t\t\tctx.fill();\r\n\t\t\tctx.restore();\r\n\t\t},\r\n\t\tdrawLogo(options) {\r\n\t\t\tconst ctx = uni.createCanvasContext(this.cid, this);\r\n\r\n\t\t\tctx.drawImage(options.filePath, 0, 0, this.size, this.size);\r\n\r\n\t\t\tconst logoSize = this.size / 4;\r\n\t\t\tconst logoX = this.size / 2 - logoSize / 2;\r\n\t\t\tconst logoY = logoX;\r\n\r\n\t\t\tconst borderSize = logoSize + 10;\r\n\t\t\tconst borderX = this.size / 2 - borderSize / 2;\r\n\t\t\tconst borderY = borderX;\r\n\t\t\tconst borderRadius = 5;\r\n\r\n\t\t\tthis.fillRoundRect(\r\n\t\t\t\tctx,\r\n\t\t\t\tborderRadius,\r\n\t\t\t\tborderX,\r\n\t\t\t\tborderY,\r\n\t\t\t\tborderSize,\r\n\t\t\t\tborderSize\r\n\t\t\t);\r\n\r\n\t\t\tctx.drawImage(this.logo, logoX, logoY, logoSize, logoSize);\r\n\r\n\t\t\tctx.draw(false, () => {\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tcanvasId: this.cid,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\toptions.success && options.success(res.tempFilePath);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: error => {\r\n\t\t\t\t\t\toptions.fail && options.fail(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync drawLogoSync(filePath) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.drawLogo({\r\n\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: error => {\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync makeSync(options) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuQRCode.make({\r\n\t\t\t\t\tcanvasId: options.canvasId,\r\n\t\t\t\t\tcomponentInstance: options.componentInstance,\r\n\t\t\t\t\ttext: options.text,\r\n\t\t\t\t\tsize: options.size,\r\n\t\t\t\t\tmargin: options.margin,\r\n\t\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\t\tforegroundColor: options.foregroundColor,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: error => {\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n"],"sourceRoot":""}