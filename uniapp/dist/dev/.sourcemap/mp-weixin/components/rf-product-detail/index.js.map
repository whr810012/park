{"version":3,"sources":["webpack:///./src/components/rf-product-detail/index.vue?f154","webpack:///./src/components/rf-product-detail/index.vue?f058","webpack:///./src/components/rf-product-detail/index.vue?aaa3","webpack:///./src/components/rf-product-detail/index.vue?0414","uni-app:///src/components/rf-product-detail/index.vue","webpack:///./src/components/rf-product-detail/index.vue?9b48","webpack:///./src/components/rf-product-detail/index.vue?5962"],"names":["_request","require","rfItemPopup","resolve","name","props","evaluateList","type","Array","default","product","Object","userInfo","url","String","marketType","components","rfNav","rfCalendar","rfBadge","rfLive","rfRate","uniTag","rfAttrContent","uniDatetimePicker","data","status","startDate","endDate","appServiceQr","$mSettingConfig","kefuShow","addressClass","canvasShow","logo","appLogo","vipPrice","$mAssetsPath","posterShow","serviceClass","ladderPreferentialClass","attributeValueClass","specClass","couponClass","shareClass","fullGiveClass","cartType","couponList","currentStock","currentSkuPrice","currentSkuName","currentCartCount","hasLogin","$mStore","getters","cartNum","uni","getStorageSync","addressTypeList","$mConstDataConfig","tabCurrentIndex","loading","errorInfo","headImg","isPointExchange","shareBg","appServiceType","productPosterQrType","appName","shareFrom","poster","promoCode","addressList","moneySymbol","state","singleSkuText","thirdPartyQrCodeImg","methods","changeSwitch","e","console","log","target","value","bindDateChange","navBack","$mRouter","back","hide","share","navTo","route","homeActive","switchTab","push","toEvaluateList","buy","_this","$mHelper","toast","nowDate","Date","now","getTime","start","end","time","hour","Math","ceil","totalPrice","price","toFixed","formatTimestamp","timestamp","date","year","getFullYear","month","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","concat","startTime","endTime","createTime","$http","post","createOrder","areaid","openId","$store","outTime","stallId","then"],"mappings":"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","file":"components/rf-product-detail/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=1aa564c0&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/rf-product-detail/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=1aa564c0&\"","var components\ntry {\n  components = {\n    uniTag: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-tag/uni-tag\" */ \"@/components/uni-tag/uni-tag.vue\"\n      )\n    },\n    uniDatetimePicker: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-datetime-picker/uni-datetime-picker\" */ \"@/components/uni-datetime-picker/uni-datetime-picker.vue\"\n      )\n    },\n    rfRate: function () {\n      return import(\n        /* webpackChunkName: \"components/rf-rate/rf-rate\" */ \"@/components/rf-rate/rf-rate.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      $event.stopPropagation()\n      return _vm.share()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"rf-product-detail\">\r\n\t\t<text class=\"back-btn iconfont iconzuo\" @tap=\"navBack\"></text>\r\n\t\t<view class=\"detail\" v-if=\"product.stallId\">\r\n\t\t\t<!--顶部商品轮播图-->\r\n\t\t\t<view class=\"carousel\">\r\n\t\t\t\t<swiper indicator-dots circular=\"true\" duration=\"400\" controls touchable>\r\n\t\t\t\t\t<!--#endif-->\r\n\t\t\t\t\t<swiper-item class=\"swiper-item\" v-for=\"(item, index) in product.url\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"image-wrapper\">\r\n\t\t\t\t\t\t\t<image :src=\"item\" class=\"loaded\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<uni-tag class=\"content\" circle size=\"small\" :text=\"`${index + 1}  / ${product.url.length}`\"></uni-tag>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t\t<!--商品信息-->\r\n\t\t\t<view class=\"introduce-section\">\r\n\t\t\t\t<view class=\"introduce-first-line\">\r\n\t\t\t\t\t<view class=\"price-box\">\r\n\t\t\t\t\t\t<view class=\"price-first-line\">\r\n\t\t\t\t\t\t\t<text class=\"price\" :class=\"'text-' + themeColor.name\">{{ moneySymbol }}{{ product.price }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"m-price-wrapper\" v-if=\"product.market_price > product.price\">\r\n\t\t\t\t\t\t\t价格 <text class=\"m-price\">{{ moneySymbol }}{{ product.price }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"introduce-second-line\">\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<text>{{ product.areaName }}</text>\r\n\t\t\t\t\t\t<text class=\"sketch\">{{ product.location }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"share\">\r\n\t\t\t\t\t\t<rf-tag type=\"gray\" size=\"small\" tui-tag-class=\"tui-tag-share tui-size\" shape=\"circleLeft\">\r\n\t\t\t\t\t\t\t<button class=\"share-btn\" open-type=\"share\" :class=\"'text-' + themeColor.name\" @tap.stop=\"share()\">\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont iconfenxiang\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"tui-share-text tui-gray\">分享</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</rf-tag>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t<text class=\"item\">状态：{{ product.status == 0 ? '空闲' : product.status == 1 ? '预定中' : '已占用' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"display: flex;justify-content: space-between;align-items: center;\">\r\n\t\t\t\t\t<view style=\"width: 200rpx; text-align: right;\">开始停车时间：</view>\r\n\t\t\t\t\t<uni-datetime-picker returnType=\"timestamp\" v-model=\"startDate\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"display: flex;justify-content: space-between;align-items: center; padding-top: 20px;\">\r\n\t\t\t\t\t<view style=\"width: 200rpx;text-align: right; \">离开时间：</view>\r\n\t\t\t\t\t<uni-datetime-picker returnType=\"timestamp\" v-model=\"endDate\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"display: flex;align-items: center; padding-bottom: 20px;padding-top: 20px;\">\r\n\t\t\t\t\t<view style=\"width: 200rpx;text-align: right; \">是否预定：</view>\r\n\t\t\t\t\t<switch :checked=\"status\" @change=\"changeSwitch\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--商品参数-->\r\n\t\t\t<view class=\"c-list\">\r\n\t\t\t</view>\r\n\t\t\t<!-- 评价 -->\r\n\t\t\t<view class=\"eva-section\" @tap=\"toEvaluateList\">\r\n\t\t\t\t<view class=\"e-header\">\r\n\t\t\t\t\t<text class=\"tit\">评价({{ evaluateList.length || 0 }})</text>\r\n\t\t\t\t\t<text class=\"tip\" v-if=\"!evaluateList.length\">暂无评价信息</text>\r\n\t\t\t\t\t<i class=\"iconfont iconyou\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"eva-box\" v-if=\"evaluateList.length > 0\">\r\n\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t<text>\r\n\t\t\t\t\t\t\t\t{{ (evaluateList[0].userName) || '匿名用户' }}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<rf-rate v-if=\"evaluateList.length > 0\" size=\"16\" disabled=\"true\" :value=\"evaluateList[0].score\"\r\n\t\t\t\t\t\t\t\t:active-color=\"themeColor.color\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"con in2line\">{{ (evaluateList[0].body) || '这个人很懒，什么都没留下~' }}</text>\r\n\t\t\t\t\t\t<view class=\"bot\">\r\n\t\t\t\t\t\t\t<text class=\"time\">{{ evaluateList[0].createTime }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 底部操作菜单 -->\r\n\t\t\t<view class=\"page-bottom\">\r\n\t\t\t\t<view class=\"page-bottom-bth-wrapper\">\r\n\t\t\t\t\t<navigator url=\"/pages/index/index\" open-type=\"switchTab\" class=\"p-b-btn\">\r\n\t\t\t\t\t\t<i class=\"iconfont iconzhuyedefuben\"></i>\r\n\t\t\t\t\t\t<text>首页</text>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action-btn-group\">\r\n\t\t\t\t\t<button class=\"action-btn\" :class=\"'bg-' + themeColor.name\" :disabled=\"buyBtnDisabled\" @tap=\"buy()\">\r\n\t\t\t\t\t\t立即购买\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\nimport rfItemPopup from '@/components/rf-item-popup';\r\nimport rfAttrContent from '@/components/rf-attr-content';\r\nimport rfRate from '@/components/rf-rate/rf-rate';\r\nimport rfBadge from '@/components/rf-badge/rf-badge';\r\nimport uniTag from '@/components/uni-tag/uni-tag';\r\nimport rfNav from '@/components/rf-nav';\r\nimport rfLive from '@/components/rf-live';\r\nimport rfCalendar from '@/components/rf-calendar/rf-calendar';\r\nimport uniDatetimePicker from '@/components/uni-datetime-picker/uni-datetime-picker';\r\nimport { createOrder } from '@/api/request'\r\nexport default {\r\n\tname: 'rfProductDetail',\r\n\tprops: {\r\n\t\tevaluateList: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tproduct: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn {\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tuserInfo: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t},\r\n\t\turl: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tmarketType: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'buy_now'\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\trfNav,\r\n\t\trfCalendar,\r\n\t\trfItemPopup,\r\n\t\trfBadge,\r\n\t\trfLive,\r\n\t\trfRate,\r\n\t\tuniTag,\r\n\t\trfAttrContent,\r\n\t\tuniDatetimePicker\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstatus: false,\r\n\t\t\tstartDate: '',\r\n\t\t\tendDate: '',\r\n\t\t\tappServiceQr: this.$mSettingConfig.appServiceQr,\r\n\t\t\tkefuShow: false,\r\n\t\t\taddressClass: 'none',\r\n\t\t\tcanvasShow: true,\r\n\t\t\tlogo: this.$mSettingConfig.appLogo,\r\n\t\t\tvipPrice: this.$mAssetsPath.vipPrice,\r\n\t\t\tposterShow: false,\r\n\t\t\tserviceClass: 'none', // 服务弹窗\r\n\t\t\tladderPreferentialClass: 'none', // 阶梯优惠弹窗\r\n\t\t\tattributeValueClass: 'none', // 商品参数弹窗\r\n\t\t\tspecClass: 'none', // 商品参数弹窗\r\n\t\t\tcouponClass: 'none', // 优惠券弹窗\r\n\t\t\tshareClass: 'none', // 分享引导弹窗\r\n\t\t\tfullGiveClass: 'none', // 满减送弹窗\r\n\t\t\tcartType: null, // 下单类型\r\n\t\t\tcouponList: [], // 优惠券列表\r\n\t\t\tcurrentStock: null,\r\n\t\t\tcurrentSkuPrice: null,\r\n\t\t\tcurrentSkuName: null,\r\n\t\t\tcurrentCartCount: 1,\r\n\t\t\thasLogin: this.$mStore.getters.hasLogin,\r\n\t\t\tcartNum: uni.getStorageSync('cartNum'),\r\n\t\t\taddressTypeList: this.$mConstDataConfig.addressTypeList,\r\n\t\t\ttabCurrentIndex: 0,\r\n\t\t\tloading: true,\r\n\t\t\terrorInfo: '',\r\n\t\t\theadImg: this.$mAssetsPath.headImg,\r\n\t\t\tisPointExchange: false,\r\n\t\t\tshareBg: this.$mAssetsPath.shareBg,\r\n\t\t\tappServiceType: this.$mSettingConfig.appServiceType,\r\n\t\t\tproductPosterQrType: this.$mSettingConfig.productPosterQrType,\r\n\t\t\tappName: this.$mSettingConfig.appName,\r\n\t\t\tshareFrom: '',\r\n\t\t\tposter: {},\r\n\t\t\tpromoCode: '',\r\n\t\t\taddressList: [],\r\n\t\t\tmoneySymbol: this.moneySymbol,\r\n\t\t\tstate: 1,\r\n\t\t\tsingleSkuText: this.singleSkuText,\r\n\t\t\tthirdPartyQrCodeImg: ''\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tchangeSwitch (e) {\r\n\t\t\tconsole.log(e.target.value)\r\n\t\t\tthis.status = e.target.value\r\n\t\t},\r\n\t\t// 监听日期变化\r\n\t\tbindDateChange() {\r\n\r\n\t\t},\r\n\t\t// 返回上一页\r\n\t\tnavBack() {\r\n\t\t\tthis.$mRouter.back();\r\n\t\t},\r\n\t\thide() {\r\n\t\t\tthis.kefuShow = false;\r\n\t\t},\r\n\t\t// 分享商品\r\n\t\tshare() {\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (this.$mPayment.isWechat()) {\r\n\t\t\t\tthis.shareClass = 'show';\r\n\t\t\t} else {\r\n\t\t\t\tthis.$mHelper.h5Copy(this.url);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tthis.$mHelper.handleAppShare(this.url, this.appName, this.product.name, this.product.picture);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t// 通用跳转\r\n\t\t// 通用跳转\r\n\t\tnavTo(route, type) {\r\n\t\t\tif (this.appServiceType === '1' && route === '/pages/product/service/index') {\r\n\t\t\t\tthis.kefuShow = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.homeActive = true;\r\n\t\t\tif (type === 'tab') {\r\n\t\t\t\tthis.$mRouter.switchTab({ route });\r\n\t\t\t} else {\r\n\t\t\t\tthis.$mRouter.push({ route });\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 跳转至评价列表\r\n\t\ttoEvaluateList() {\r\n\t\t\tthis.navTo('/pages/category/category', 'tab')\r\n\t\t},\r\n\t\tbuy() {\r\n\t\t\tif (!this.startDate || !this.endDate) {\r\n\t\t\t\tthis.$mHelper.toast('请选择日期')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tconst nowDate = new Date()\r\n\t\t\tconst now = nowDate.getTime()\r\n\t\t\tconst start = new Date(this.startDate).getTime()\r\n\t\t\tconst end = new Date(this.endDate).getTime()\r\n\t\t\tif (start < now) {\r\n\t\t\t\tthis.$mHelper.toast('开始日期不能小于当前日期')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (end < now) {\r\n\t\t\t\tthis.$mHelper.toast('结束日期不能小于当前日期')\r\n\t\t\t}\r\n\t\t\tif (end < start) {\r\n\t\t\t\tthis.$mHelper.toast('结束日期不能小于开始日期')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tconst time = end - start\r\n\t\t\t// 计算time是几个小时,不满一小时按照一小时算\r\n\t\t\tconst hour = Math.ceil(time / (1000 * 60 * 60))\r\n\t\t\tconst totalPrice = (this.product.price * hour).toFixed(2)\r\n\t\t\tconst formatTimestamp = (timestamp) => {\r\n\t\t\t\tconst date = new Date(timestamp);\r\n\r\n\t\t\t\tconst year = date.getFullYear();\r\n\t\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0'); // 月份从0开始，所以需要加1\r\n\t\t\t\tconst day = String(date.getDate()).padStart(2, '0');\r\n\t\t\t\tconst hours = String(date.getHours()).padStart(2, '0');\r\n\t\t\t\tconst minutes = String(date.getMinutes()).padStart(2, '0');\r\n\t\t\t\tconst seconds = String(date.getSeconds()).padStart(2, '0');\r\n\r\n\t\t\t\treturn `${year}-${month}-${day}T${hours}:${minutes}:${seconds}`;\r\n\t\t\t}\r\n\t\t\tconst startTime = formatTimestamp(this.startDate)\r\n\t\t\tconst endTime = formatTimestamp(this.endDate)\r\n\t\t\tconst createTime = formatTimestamp(new Date().getTime())\r\n\r\n\t\t\t// 示例使用\r\n\t\t\tconsole.log(this.status)\r\n\t\t\tthis.$http.post(createOrder, {\r\n\t\t\t\tareaid: this.product.areaid,\r\n\t\t\t\tcreateTime: createTime,\r\n\t\t\t\tstartTime: startTime,\r\n\t\t\t\tendTime: endTime,\r\n\t\t\t\topenId: this.$store.state.openId,\r\n\t\t\t\toutTime: '',\r\n\t\t\t\tstallId: this.product.stallId,\r\n\t\t\t\tstatus: this.status ? 0 : 1,\r\n\t\t\t\ttotalPrice: totalPrice\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$mHelper.toast('下单成功')\r\n\t\t\t\tthis.navBack()\r\n\t\t\t})\r\n\t\t\tconsole.log('product', this.product, this.startDate, this.endDate)\r\n\t\t},\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.rf-product-detail {\r\n\t.back-btn {\r\n\t\tposition: fixed;\r\n\t\tleft: 40upx;\r\n\t\tz-index: 9999;\r\n\t\tpadding-top: var(--status-bar-height);\r\n\t\ttop: 40upx;\r\n\t\tfont-size: 40upx;\r\n\t\tcolor: $font-color-dark;\r\n\t}\r\n\r\n\t.carousel {\r\n\t\theight: 722upx;\r\n\t\tposition: relative;\r\n\r\n\t\tswiper {\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t.image-wrapper {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t.swiper-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-content: center;\r\n\t\t\theight: 750upx;\r\n\t\t\toverflow: hidden;\r\n\t\t\tborder-bottom: 1upx solid rgba(0, 0, 0, 0.01);\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.content {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: $spacing-base;\r\n\t\t\t\tbottom: $spacing-base;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.detail {\r\n\t\tpadding-bottom: 60upx;\r\n\t}\r\n\r\n\t.service {\r\n\t\tpadding: $spacing-base $spacing-lg 0;\r\n\r\n\t\t.row {\r\n\t\t\tfont-size: $font-lg;\r\n\t\t\tmargin-bottom: $spacing-sm;\r\n\t\t}\r\n\t}\r\n\r\n\t.selected-text {\r\n\t\tmargin-right: 4upx;\r\n\t}\r\n\r\n\t.sub-list {\r\n\t\tmargin: 40upx 0 80upx;\r\n\r\n\t\t.row {\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin-bottom: $spacing-lg;\r\n\t\t}\r\n\t}\r\n\r\n\t.share-bg {\r\n\t\timage {\r\n\t\t\tposition: fixed;\r\n\t\t\tz-index: 100;\r\n\t\t\twidth: 70vw;\r\n\t\t\theight: 45vw;\r\n\t\t\tright: $spacing-base;\r\n\t\t\ttop: $spacing-base;\r\n\t\t}\r\n\t}\r\n\r\n\t.layer {\r\n\t\tposition: fixed;\r\n\t\tz-index: 99;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tborder-radius: 10upx 10upx 0 0;\r\n\t\tbackground-color: #fff;\r\n\r\n\t\t.rf-list {\r\n\t\t\tmax-height: 60vh;\r\n\t\t\tpadding-bottom: 0;\r\n\t\t\tmargin-bottom: $spacing-sm;\r\n\t\t}\r\n\t}\r\n\r\n\t// 拼团公告\r\n\t.rf-swiper-slide {\r\n\t\tmargin-top: 20upx;\r\n\r\n\t\t.label {\r\n\t\t\tmargin-left: 10upx;\r\n\t\t}\r\n\t}\r\n\r\n\t// 玩法介绍\r\n\t.play-way {\r\n\t\tbackground-color: $color-white;\r\n\t\tpadding: 0 20upx;\r\n\t\tmargin: 20upx 0;\r\n\t\tfont-size: $font-base;\r\n\r\n\t\t.title {\r\n\t\t\tborder-bottom: 1px solid #eee;\r\n\t\t\tpadding: $spacing-base 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.iconfont {\r\n\t\t\t\tmargin-left: 0.13rem;\r\n\t\t\t\tfont-size: 0.28rem;\r\n\t\t\t\tcolor: #717171;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.way {\r\n\t\t\tfont-size: $font-base - 2upx;\r\n\t\t\tpadding: 20upx 0;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.item {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\t.tip {\r\n\t\t\t\t\tfont-size: 0.22rem;\r\n\t\t\t\t\tcolor: #a5a5a5;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.arrow {\r\n\t\t\t\twidth: 40upx;\r\n\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tcolor: $font-color-light;\r\n\t\t\t\t\tfont-weight: 100;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.assemble {\r\n\t\tbackground-color: #fff;\r\n\r\n\t\t.assemble-item {\r\n\t\t\theight: 120upx;\r\n\t\t\tborder-bottom: 1px solid #f0f0f0;\r\n\r\n\t\t\t.pictxt {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t.picture {\r\n\t\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 80upx;\r\n\t\t\t\t\t\theight: 80upx;\r\n\t\t\t\t\t\tmargin: 20upx 0;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.text {\r\n\t\t\t\t\t\tline-height: 120upx;\r\n\t\t\t\t\t\tmargin-left: 20upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.right {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t.time-wrapper {\r\n\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t\tmargin-right: 20upx;\r\n\r\n\t\t\t\t\t\t.lack {\r\n\t\t\t\t\t\t\tfont-size: $font-sm;\r\n\r\n\t\t\t\t\t\t\t.font-color-red {\r\n\t\t\t\t\t\t\t\tmargin: 0 4upx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.time {\r\n\t\t\t\t\t\t\tfont-size: $font-sm;\r\n\t\t\t\t\t\t\tcolor: $font-color-light;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.spellBnt {\r\n\t\t\t\t\t\tfont-size: $font-sm;\r\n\t\t\t\t\t\twidth: 120upx;\r\n\t\t\t\t\t\theight: 48upx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tborder-radius: 48upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.c-list {\r\n\t\tfont-size: $font-sm + 2upx;\r\n\t\tcolor: $font-color-base;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.c-row {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 20upx 30upx;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.tit {\r\n\t\t\twidth: 140upx;\r\n\t\t}\r\n\r\n\t\t.con {\r\n\t\t\tflex: 1;\r\n\t\t\tcolor: $font-color-dark;\r\n\r\n\t\t\t.selected-text {\r\n\t\t\t\tmargin-right: 10upx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.bz-list {\r\n\t\t\theight: 40upx;\r\n\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\tcolor: $font-color-dark;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tmargin-right: 30upx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.con-list {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t\tline-height: 40upx;\r\n\r\n\t\t\t.buy-now {\r\n\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.red {\r\n\t\t\tcolor: $uni-color-primary;\r\n\t\t}\r\n\t}\r\n\r\n\t.kefu-bg {\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tz-index: 98;\r\n\r\n\t\timage {\r\n\t\t\twidth: 60vw;\r\n\t\t\theight: 60vw;\r\n\t\t\tborder-radius: 12upx;\r\n\t\t\tz-index: 98;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1735447286492\n      var cssReload = require(\"D:/CODE/park/park-vue/uniapp/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}