{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Login } from '@/api/request.js';\nexport default {\n  name: 'loginIndex',\n  data() {\n    return {\n      form: {\n        username: '',\n        password: '',\n        remember: false\n      }\n    };\n  },\n  methods: {\n    onSubmit() {\n      if (!this.form.username) {\n        this.$message.warning('请输入邮箱地址');\n        return;\n      } else if (!this.form.password) {\n        this.$message.warning('请输入密码');\n        return;\n      }\n      Login({\n        email: this.form.username,\n        password: this.form.password\n      }).then(res => {\n        this.$message.success('登录成功');\n        console.log('登录成功', res.data.data);\n        const data = res.data.data;\n        if (data.img) {\n          // 将json转换成对象\n          data.img = JSON.parse(data.img);\n        }\n        this.$store.commit('setUserInfo', data);\n        localStorage.setItem('userInfo', JSON.stringify(data));\n        this.$router.push({\n          path: '/admin'\n        });\n      }).catch(() => {\n        this.$message.error('邮箱/密码错误');\n      });\n    }\n  }\n};","map":{"version":3,"names":["Login","name","data","form","username","password","remember","methods","onSubmit","$message","warning","email","then","res","success","console","log","img","JSON","parse","$store","commit","localStorage","setItem","stringify","$router","push","path","catch","error"],"sources":["D:\\CODE\\park\\park-vue\\web\\src\\pages\\login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <el-row>\r\n      <el-col :lg=\"16\" :md=\"12\" :sm=\"24\" :xl=\"16\" :xs=\"24\">\r\n        <div style=\"color: transparent\">占位符</div>\r\n      </el-col>\r\n      <el-col :lg=\"8\" :md=\"12\" :sm=\"24\" :xl=\"8\" :xs=\"24\">\r\n        <el-form ref=\"form\" class=\"login-form\" label-position=\"left\" :model=\"form\" :rules=\"rules\">\r\n          <div class=\"title\">hello !</div>\r\n          <div class=\"title-tips\">欢迎来到{{ title }}！</div>\r\n          <el-form-item prop=\"username\" style=\"margin-top: 40px\">\r\n            <span class=\"svg-container svg-container-admin\">\r\n              <vab-icon :icon=\"['fas', 'user']\" />\r\n            </span>\r\n            <el-input v-model.trim=\"form.username\" v-focus placeholder=\"请输入用户名\" tabindex=\"1\" type=\"text\" />\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <span class=\"svg-container\">\r\n              <vab-icon :icon=\"['fas', 'lock']\" />\r\n            </span>\r\n            <el-input :key=\"passwordType\" ref=\"password\" v-model.trim=\"form.password\" placeholder=\"请输入密码\" tabindex=\"2\"\r\n              :type=\"passwordType\" />\r\n            <span v-if=\"passwordType === 'password'\" class=\"show-password\">\r\n              <vab-icon :icon=\"['fas', 'eye-slash']\" />\r\n            </span>\r\n            <span v-else class=\"show-password\">\r\n              <vab-icon :icon=\"['fas', 'eye']\" />\r\n            </span>\r\n          </el-form-item>\r\n          <el-button class=\"login-btn\" :loading=\"loading\" type=\"primary\" @click=\"onSubmit\">登录</el-button>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Login } from '@/api/request.js'\r\nexport default {\r\n  name: 'loginIndex',\r\n  data() {\r\n    return {\r\n      form: {\r\n        username: '',\r\n        password: '',\r\n        remember: false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      if (!this.form.username) {\r\n        this.$message.warning('请输入邮箱地址')\r\n        return\r\n      } else if (!this.form.password) {\r\n        this.$message.warning('请输入密码')\r\n        return\r\n      }\r\n      Login({ email: this.form.username, password: this.form.password }).then(res => {\r\n        this.$message.success('登录成功')\r\n        console.log('登录成功', res.data.data);\r\n        const data = res.data.data\r\n        if (data.img) {\r\n          // 将json转换成对象\r\n          data.img = JSON.parse(data.img)\r\n        }\r\n        this.$store.commit('setUserInfo', data)\r\n        localStorage.setItem('userInfo', JSON.stringify(data))\r\n        this.$router.push({ path: '/admin' })\r\n      }).catch(() => {\r\n        this.$message.error('邮箱/密码错误')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-container {\r\n  height: 100vh;\r\n  background: url('~@/assets/login_images/background.jpg') center center fixed no-repeat;\r\n  background-size: cover;\r\n\r\n  .title {\r\n    font-size: 54px;\r\n    font-weight: 500;\r\n    color: rgba(14, 18, 26, 1);\r\n  }\r\n\r\n  .title-tips {\r\n    margin-top: 29px;\r\n    font-size: 26px;\r\n    font-weight: 400;\r\n    color: rgba(14, 18, 26, 1);\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .login-btn {\r\n    display: inherit;\r\n    width: 220px;\r\n    height: 60px;\r\n    margin-top: 5px;\r\n    border: 0;\r\n\r\n    &:hover {\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n\r\n  .login-form {\r\n    position: relative;\r\n    max-width: 100%;\r\n    margin: calc((100vh - 425px) / 2) 10% 10%;\r\n    overflow: hidden;\r\n\r\n    .forget-password {\r\n      width: 100%;\r\n      margin-top: 40px;\r\n      text-align: left;\r\n\r\n      .forget-pass {\r\n        width: 129px;\r\n        height: 19px;\r\n        font-size: 20px;\r\n        font-weight: 400;\r\n        color: rgba(92, 102, 240, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  .tips {\r\n    margin-bottom: 10px;\r\n\r\n    span {\r\n      &:first-of-type {\r\n        margin-right: 16px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .title-container {\r\n    position: relative;\r\n\r\n    .title {\r\n      margin: 0 auto 40px auto;\r\n      font-size: 34px;\r\n      font-weight: bold;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  .svg-container {\r\n    position: absolute;\r\n    top: 14px;\r\n    left: 15px;\r\n    font-size: 16px;\r\n    color: #d7dee3;\r\n    cursor: pointer;\r\n    user-select: none;\r\n  }\r\n\r\n  .show-password {\r\n    position: absolute;\r\n    top: 14px;\r\n    right: 25px;\r\n    font-size: 16px;\r\n    color: #d7dee3;\r\n    cursor: pointer;\r\n    user-select: none;\r\n  }\r\n\r\n  ::v-deep {\r\n    .el-form-item {\r\n      padding-right: 0;\r\n      margin: 20px 0;\r\n      color: #454545;\r\n      background: transparent;\r\n      border: 1px solid transparent;\r\n      border-radius: 2px;\r\n\r\n      &__content {}\r\n\r\n      &__error {\r\n        position: absolute;\r\n        top: 100%;\r\n        left: 18px;\r\n        line-height: 18px;\r\n      }\r\n    }\r\n\r\n    .el-input {\r\n      box-sizing: border-box;\r\n\r\n      input {\r\n        height: 58px;\r\n        padding-left: 45px;\r\n        line-height: 58px;\r\n        background: #f6f4fc;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";AAqCA,SAASA,KAAI,QAAS,kBAAiB;AACvC,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACZ;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAAA,EAAG;MACT,IAAI,CAAC,IAAI,CAACL,IAAI,CAACC,QAAQ,EAAE;QACvB,IAAI,CAACK,QAAQ,CAACC,OAAO,CAAC,SAAS;QAC/B;MACF,OAAO,IAAI,CAAC,IAAI,CAACP,IAAI,CAACE,QAAQ,EAAE;QAC9B,IAAI,CAACI,QAAQ,CAACC,OAAO,CAAC,OAAO;QAC7B;MACF;MACAV,KAAK,CAAC;QAAEW,KAAK,EAAE,IAAI,CAACR,IAAI,CAACC,QAAQ;QAAEC,QAAQ,EAAE,IAAI,CAACF,IAAI,CAACE;MAAS,CAAC,CAAC,CAACO,IAAI,CAACC,GAAE,IAAK;QAC7E,IAAI,CAACJ,QAAQ,CAACK,OAAO,CAAC,MAAM;QAC5BC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,GAAG,CAACX,IAAI,CAACA,IAAI,CAAC;QAClC,MAAMA,IAAG,GAAIW,GAAG,CAACX,IAAI,CAACA,IAAG;QACzB,IAAIA,IAAI,CAACe,GAAG,EAAE;UACZ;UACAf,IAAI,CAACe,GAAE,GAAIC,IAAI,CAACC,KAAK,CAACjB,IAAI,CAACe,GAAG;QAChC;QACA,IAAI,CAACG,MAAM,CAACC,MAAM,CAAC,aAAa,EAAEnB,IAAI;QACtCoB,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEL,IAAI,CAACM,SAAS,CAACtB,IAAI,CAAC;QACrD,IAAI,CAACuB,OAAO,CAACC,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAS,CAAC;MACtC,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM;QACb,IAAI,CAACnB,QAAQ,CAACoB,KAAK,CAAC,SAAS;MAC/B,CAAC;IACH;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}