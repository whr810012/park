{"ast":null,"code":"import { getGoods } from '@/api/request';\nexport default {\n  data() {\n    return {\n      options: [{\n        label: '书籍',\n        value: 'book'\n      }, {\n        label: '电子产品',\n        value: 'electronics'\n      }, {\n        label: '食品',\n        value: 'food'\n      }, {\n        label: '衣物',\n        value: 'clothes'\n      }, {\n        label: '家具',\n        value: 'furniture'\n      }, {\n        label: '化妆品',\n        value: 'cosmetics'\n      }, {\n        label: '运动器材',\n        value: 'sports'\n      }, {\n        label: '乐器',\n        value: 'instrument'\n      }, {\n        label: '其他',\n        value: 'other'\n      }],\n      allGoodsList: [],\n      checkGoods: []\n    };\n  },\n  computed: {\n    filterList() {\n      return this.allGoodsList;\n    }\n  },\n  methods: {\n    handleSelectionChange(val) {\n      this.checkGoods = val;\n    }\n  },\n  created() {\n    getGoods().then(res => {\n      console.log(res.data.data);\n      this.allGoodsList = res.data.data;\n      this.allGoodsList.forEach(item => {\n        item.image = JSON.parse(item.filesJson);\n        item.image.forEach(img => {\n          const mimeType = img.contentType;\n          img.url = `data:${mimeType};base64,${img.base64}`;\n        });\n      });\n    });\n  }\n};","map":{"version":3,"names":["getGoods","data","options","label","value","allGoodsList","checkGoods","computed","filterList","methods","handleSelectionChange","val","created","then","res","console","log","forEach","item","image","JSON","parse","filesJson","img","mimeType","contentType","url","base64"],"sources":["C:\\Users\\Administrator\\Desktop\\ershou\\src\\pages\\home\\goodsManage.vue"],"sourcesContent":["<template>\r\n  <div class=\"goodsManage\">\r\n    <el-table :data=\"allGoodsList\" style=\"width: 100%\" border @selection-change=\"handleSelectionChange\">\r\n      <el-table-column label=\"序号\" width=\"120\" align=\"center\" type=\"index\"></el-table-column>\r\n      <el-table-column type=\"selection\" :selectable=\"selectable\" width=\"55\" align=\"center\" />\r\n      <el-table-column property=\"name\" label=\"商品名称\" align=\"center\"></el-table-column>\r\n      <el-table-column property=\"price\" label=\"商品原价\" align=\"center\">\r\n        <template #default=\"scope\">\r\n        ￥{{scope.row.price}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"折扣\" prop=\"discount\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          {{ scope.row.discount === 1 ? '无折扣' : scope.row.discount * 10 + '折' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"售价\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          ￥ {{ (scope.row.price * (scope.row.discount * 100))/100 }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"category\" label=\"商品分类\" align=\"center\">\r\n        <template #default=\"scope\">\r\n        {{ this.options.find(option => option.value === scope.row.category).label }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"description\" label=\"商品描述\" align=\"center\"></el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getGoods } from '@/api/request'\r\nexport default {\r\n  data(){\r\n    return{\r\n      options: [\r\n        { label: '书籍', value: 'book' },\r\n        { label: '电子产品', value: 'electronics' },\r\n        { label: '食品', value: 'food' },\r\n        { label: '衣物', value: 'clothes' },\r\n        { label: '家具', value: 'furniture' },\r\n        { label: '化妆品', value: 'cosmetics' },\r\n        { label: '运动器材', value: 'sports' },\r\n        { label: '乐器', value: 'instrument' },\r\n        { label: '其他', value: 'other' }\r\n      ],\r\n      allGoodsList:[],\r\n      checkGoods:[]\r\n    }\r\n  },\r\n  computed:{\r\n    filterList () {\r\n      return this.allGoodsList\r\n    }\r\n  },\r\n  methods:{\r\n    handleSelectionChange(val){\r\n      this.checkGoods = val\r\n    }\r\n  },\r\n  created(){\r\n    getGoods().then(res => {\r\n      console.log(res.data.data)\r\n      this.allGoodsList = res.data.data\r\n      this.allGoodsList.forEach(item => {\r\n        item.image = JSON.parse(item.filesJson)\r\n        item.image.forEach(img => {\r\n          const mimeType = img.contentType\r\n          img.url = `data:${mimeType};base64,${img.base64}`;\r\n        })\r\n      })\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.goodsManage{\r\n  margin:10px;\r\n}\r\n</style>"],"mappings":"AAgCA,SAASA,QAAO,QAAS,eAAc;AACvC,eAAe;EACbC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,OAAO,EAAE,CACP;QAAEC,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAO,CAAC,EAC9B;QAAED,KAAK,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAc,CAAC,EACvC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAO,CAAC,EAC9B;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAU,CAAC,EACjC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAY,CAAC,EACnC;QAAED,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAY,CAAC,EACpC;QAAED,KAAK,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAS,CAAC,EAClC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAa,CAAC,EACpC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAQ,EAC/B;MACDC,YAAY,EAAC,EAAE;MACfC,UAAU,EAAC;IACb;EACF,CAAC;EACDC,QAAQ,EAAC;IACPC,UAASA,CAAA,EAAK;MACZ,OAAO,IAAI,CAACH,YAAW;IACzB;EACF,CAAC;EACDI,OAAO,EAAC;IACNC,qBAAqBA,CAACC,GAAG,EAAC;MACxB,IAAI,CAACL,UAAS,GAAIK,GAAE;IACtB;EACF,CAAC;EACDC,OAAOA,CAAA,EAAE;IACPZ,QAAQ,CAAC,CAAC,CAACa,IAAI,CAACC,GAAE,IAAK;MACrBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACb,IAAI,CAACA,IAAI;MACzB,IAAI,CAACI,YAAW,GAAIS,GAAG,CAACb,IAAI,CAACA,IAAG;MAChC,IAAI,CAACI,YAAY,CAACY,OAAO,CAACC,IAAG,IAAK;QAChCA,IAAI,CAACC,KAAI,GAAIC,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,SAAS;QACtCJ,IAAI,CAACC,KAAK,CAACF,OAAO,CAACM,GAAE,IAAK;UACxB,MAAMC,QAAO,GAAID,GAAG,CAACE,WAAU;UAC/BF,GAAG,CAACG,GAAE,GAAI,QAAQF,QAAQ,WAAWD,GAAG,CAACI,MAAM,EAAE;QACnD,CAAC;MACH,CAAC;IACH,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}