{"ast":null,"code":"import { getOptions, subOptions, changeOptions, deleteOptions } from \"../../api/request.js\";\nexport default {\n  name: \"optionsMnage\",\n  data() {\n    return {\n      dialogFormVisible: false,\n      form: {\n        lat: '',\n        lng: ''\n      },\n      tableData: [],\n      multipleSelection: []\n    };\n  },\n  methods: {\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    addOptions() {\n      this.form = {\n        lat: '',\n        lng: '',\n        id: ''\n      };\n      this.dialogFormVisible = true;\n    },\n    changeOptions() {\n      if (this.multipleSelection.length == 1) {\n        this.form = this.multipleSelection[0];\n        this.dialogFormVisible = true;\n      } else {\n        this.$message.warning('请选择一个选项进行修改');\n      }\n    },\n    subOptions() {\n      const status = !!this.form.id;\n      if (status) {\n        changeOptions(this.form).then(() => {\n          this.$message.success('修改成功');\n          this.initOptions();\n        });\n      } else {\n        subOptions(this.form).then(() => {\n          this.$message.success('添加成功');\n          this.initOptions();\n        });\n      }\n      this.dialogFormVisible = false;\n    },\n    initOptions() {\n      getOptions().then(res => {\n        this.tableData = res.data.data;\n      });\n    },\n    deleteOptions() {\n      if (this.multipleSelection.length >= 1) {\n        this.$confirm('此操作将永久删除该选项, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          deleteOptions().then(() => {\n            this.$message.success('删除成功');\n            this.initOptions(this.multipleSelection.map(item => item.id));\n          });\n        }).catch(() => {\n          this.$message.info('已取消删除');\n        });\n      } else {\n        this.$message.warning('请选择一个选项进行删除');\n      }\n    }\n  },\n  created() {\n    this.$store.commit(\"setBreadList\", [{\n      title: '地图管理'\n    }, {\n      title: '轮廓图管理'\n    }]);\n    this.initOptions();\n  }\n};","map":{"version":3,"names":["getOptions","subOptions","changeOptions","deleteOptions","name","data","dialogFormVisible","form","lat","lng","tableData","multipleSelection","methods","handleSelectionChange","val","addOptions","id","length","$message","warning","status","then","success","initOptions","res","$confirm","confirmButtonText","cancelButtonText","type","map","item","catch","info","created","$store","commit","title"],"sources":["C:\\Users\\Administrator\\Desktop\\ershou\\src\\components\\mapmanage\\OptionsManage.vue"],"sourcesContent":["<template>\r\n    <div class=\"options-manage\">\r\n        <div style=\"margin-bottom: 20px\">\r\n            <el-button type=\"primary\" @click=\"addOptions\">添加</el-button>\r\n            <el-button type=\"primary\" @click=\"changeOptions\">修改</el-button>\r\n            <el-button type=\"danger\" @click=\"deleteOptions\">删除</el-button>\r\n        </div>\r\n        <el-table ref=\"multipleTableRef\" :data=\"tableData\" border style=\"width: 100%\"\r\n            @selection-change=\"handleSelectionChange\">\r\n            <el-table-column type=\"index\" label=\"序号\" width=\"120\" align=\"center\"></el-table-column>\r\n            <el-table-column type=\"selection\" :selectable=\"selectable\" width=\"55\" align=\"center\" />\r\n            <el-table-column property=\"lat\" label=\"经度\" align=\"center\" />\r\n            <el-table-column property=\"lng\" label=\"维度\" align=\"center\" />\r\n        </el-table>\r\n        <el-dialog v-if=\"dialogFormVisible\" v-model=\"dialogFormVisible\" title=\"添加轮廓图点位\" width=\"500\">\r\n            <el-form :model=\"form\">\r\n                <el-form-item label=\"经度 (lat):\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"form.lat\" autocomplete=\"off\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"纬度 (lng):\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"form.lng\" autocomplete=\"off\" />\r\n                </el-form-item>\r\n            </el-form>\r\n            <template #footer>\r\n                <div class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n                    <el-button type=\"primary\" @click=\"subOptions\">\r\n                        确认\r\n                    </el-button>\r\n                </div>\r\n            </template>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOptions, subOptions, changeOptions, deleteOptions } from \"../../api/request.js\";\r\nexport default {\r\n    name: \"optionsMnage\",\r\n    data() {\r\n        return {\r\n            dialogFormVisible: false,\r\n            form: {\r\n                lat: '',\r\n                lng: ''\r\n            },\r\n            tableData: [],\r\n            multipleSelection: [],\r\n        }\r\n    },\r\n    methods: {\r\n        handleSelectionChange(val) {\r\n            this.multipleSelection = val\r\n        },\r\n        addOptions() {\r\n            this.form = {\r\n                lat: '',\r\n                lng: '',\r\n                id: ''\r\n            }\r\n            this.dialogFormVisible = true\r\n        },\r\n        changeOptions() {\r\n            if (this.multipleSelection.length == 1) {\r\n                this.form = this.multipleSelection[0]\r\n                this.dialogFormVisible = true\r\n            } else {\r\n                this.$message.warning('请选择一个选项进行修改')\r\n            }\r\n        },\r\n        subOptions() {\r\n            const status = !!this.form.id\r\n            if (status) {\r\n                changeOptions(this.form).then(() => {\r\n                    this.$message.success('修改成功')\r\n                    this.initOptions()\r\n                })\r\n            } else {\r\n                subOptions(this.form).then(() => {\r\n                    this.$message.success('添加成功')\r\n                    this.initOptions()\r\n                })\r\n            }\r\n            this.dialogFormVisible = false\r\n        },\r\n        initOptions() {\r\n            getOptions().then((res) => {\r\n                this.tableData = res.data.data\r\n            })\r\n        },\r\n        deleteOptions() {\r\n            if (this.multipleSelection.length >= 1) {\r\n                this.$confirm('此操作将永久删除该选项, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    deleteOptions().then(() => {\r\n                        this.$message.success('删除成功')\r\n                        this.initOptions(this.multipleSelection.map(item=> item.id))\r\n                    })\r\n                }).catch(() => {\r\n                    this.$message.info('已取消删除')\r\n                })\r\n            } else {\r\n                this.$message.warning('请选择一个选项进行删除')\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.$store.commit(\"setBreadList\", [{ title: '地图管理' }, { title: '轮廓图管理' }]);\r\n        this.initOptions()\r\n    },\r\n}\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}