{"ast":null,"code":"// import axios from 'axios'\n// import store from 'electron-store'\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n  data() {\n    return {\n      username: \"yQamuwjpfEu8\",\n      password: \"IkJTPqsb+-^s\"\n    };\n  },\n  methods: {\n    handleSubmit() {\n      // 登录\n      fetch(\"https://aomen.tutu-ai.cn/api/auth/accountLogin\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          account: this.username,\n          password: this.password\n        })\n      }).then(response => {\n        // 请求成功，处理响应数据\n        console.log(response.data);\n        const res = response.json();\n        if (res.code === 0) {\n          console.log(res.token);\n          // 本地存储\n          localStorage.setItem(\"token\", res.token);\n          this.$store.commit(\"user/setUserInfo\", res.token);\n          // 切换页面主页\n          this.$router.replace(\"/\");\n        } else {\n          console.log(res.message);\n          alert(\"登录失败\");\n          // this.$router.replace(\"/login\");\n        }\n      }).catch(error => {\n        // 请求失败，处理错误\n        console.error(\"请求失败:\", error);\n        alert(\"登录错误\");\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","username","password","methods","handleSubmit","fetch","method","headers","body","JSON","stringify","account","then","response","console","log","res","json","code","token","localStorage","setItem","$store","commit","$router","replace","message","alert","catch","error"],"sources":["C:\\Users\\Administrator\\Documents\\WeChat Files\\wxid_9s69en6iup1p22\\FileStorage\\File\\2024-10\\web\\web\\src\\pages\\login.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n      <div class=\"login-header\">\r\n        <h1>tiktok小店工具箱-商家版V2.4.0</h1>\r\n      </div>\r\n      <div class=\"login-form\" id=\"login-form\">\r\n        <form>\r\n          <div class=\"input-group\">\r\n            <label for=\"username\">账号：</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              placeholder=\"请输入账号\"\r\n              v-model=\"username\"\r\n            />\r\n          </div>\r\n          <br />\r\n          <div class=\"input-group\">\r\n            <div class=\"input-row\">\r\n              <label for=\"password\">密码：</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"password\"\r\n                placeholder=\"请输入密码\"\r\n                v-model=\"password\"\r\n              />\r\n              <br />\r\n              <br />\r\n              <button type=\"submit\" id=\"login-button\" @click=\"handleSubmit\">\r\n                登陆\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  // import axios from 'axios'\r\n  // import store from 'electron-store'\r\n  export default {\r\n    // eslint-disable-next-line vue/multi-word-component-names\r\n    name: \"Login\",\r\n    data() {\r\n      return {\r\n        username: \"yQamuwjpfEu8\",\r\n        password: \"IkJTPqsb+-^s\",\r\n      };\r\n    },\r\n    methods: {\r\n      handleSubmit() {\r\n        // 登录\r\n        fetch(\"https://aomen.tutu-ai.cn/api/auth/accountLogin\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            account: this.username,\r\n            password: this.password,\r\n          }),\r\n        })\r\n          .then((response) => {\r\n            // 请求成功，处理响应数据\r\n            console.log(response.data);\r\n            const res = response.json();\r\n            if (res.code === 0) {\r\n              console.log(res.token);\r\n              // 本地存储\r\n              localStorage.setItem(\"token\", res.token);\r\n              this.$store.commit(\"user/setUserInfo\", res.token);\r\n              // 切换页面主页\r\n              this.$router.replace(\"/\");\r\n            } else {\r\n              console.log(res.message);\r\n              alert(\"登录失败\");\r\n              // this.$router.replace(\"/login\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            // 请求失败，处理错误\r\n            console.error(\"请求失败:\", error);\r\n            alert(\"登录错误\");\r\n          });\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped>\r\n  button {\r\n    background-color: #19aaed;\r\n    border-radius: 5px;\r\n    border: none;\r\n    color: white;\r\n    padding: 3px 5px;\r\n    cursor: pointer;\r\n    margin-bottom: 2px;\r\n  }\r\n  \r\n  button:hover {\r\n    /* text-decoration: underline;  */\r\n    background-color: #82c7e7;\r\n  }\r\n  \r\n  input {\r\n    border-radius: 10px;\r\n    border: 1px solid #ddd;\r\n    padding: 3px 5px;\r\n    margin-right: 5px;\r\n  }\r\n  </style>\r\n  "],"mappings":"AAuCE;AACA;AACA,eAAe;EACb;EACAA,IAAI,EAAE,OAAO;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,cAAc;MACxBC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACb;MACAC,KAAK,CAAC,gDAAgD,EAAE;QACtDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,OAAO,EAAE,IAAI,CAACV,QAAQ;UACtBC,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC;MACH,CAAC,EACEU,IAAI,CAAEC,QAAQ,IAAK;QAClB;QACAC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACb,IAAI,CAAC;QAC1B,MAAMgB,GAAE,GAAIH,QAAQ,CAACI,IAAI,CAAC,CAAC;QAC3B,IAAID,GAAG,CAACE,IAAG,KAAM,CAAC,EAAE;UAClBJ,OAAO,CAACC,GAAG,CAACC,GAAG,CAACG,KAAK,CAAC;UACtB;UACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,GAAG,CAACG,KAAK,CAAC;UACxC,IAAI,CAACG,MAAM,CAACC,MAAM,CAAC,kBAAkB,EAAEP,GAAG,CAACG,KAAK,CAAC;UACjD;UACA,IAAI,CAACK,OAAO,CAACC,OAAO,CAAC,GAAG,CAAC;QAC3B,OAAO;UACLX,OAAO,CAACC,GAAG,CAACC,GAAG,CAACU,OAAO,CAAC;UACxBC,KAAK,CAAC,MAAM,CAAC;UACb;QACF;MACF,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChB;QACAf,OAAO,CAACe,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;QAC7BF,KAAK,CAAC,MAAM,CAAC;MACf,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}