{"ast":null,"code":"import { sendAi } from '@/api/request';\nexport default {\n  name: 'uploadGoods',\n  data() {\n    return {\n      loading: false,\n      imageshow: false,\n      form: {\n        name: '',\n        price: '',\n        discount: 1,\n        class: '',\n        condition: '',\n        description: '',\n        image: []\n      },\n      options: [{\n        label: '书籍',\n        value: 'book'\n      }, {\n        label: '电子产品',\n        value: 'electronics'\n      }, {\n        label: '食品',\n        value: 'food'\n      }, {\n        label: '衣物',\n        value: 'clothes'\n      }, {\n        label: '家具',\n        value: 'furniture'\n      }, {\n        label: '化妆品',\n        value: 'cosmetics'\n      }, {\n        label: '运动器材',\n        value: 'sports'\n      }, {\n        label: '乐器',\n        value: 'instrument'\n      }, {\n        label: '其他',\n        value: 'other'\n      }],\n      options2: ['全新', '九成新', '八成新', '七成新', '六成新', '五成新', '四成新', '三成新', '二成新', '一成新']\n    };\n  },\n  methods: {\n    sendAi() {\n      this.loading = true;\n      sendAi(this.form).then(res => {\n        console.log('asd', res);\n        this.form.description = res.data.data.message.content;\n        this.loading = false;\n      }).catch(err => {\n        console.log('1111', err);\n        this.loading = false;\n        this.$notify.error(err.data.error);\n      });\n    },\n    handlePictureCardPreview(file) {\n      this.imageshow = true;\n      this.dialogImageUrl = file.url;\n    },\n    handleExceed() {\n      this.$message.warning('最多上传4张图片');\n    }\n  }\n};","map":{"version":3,"names":["sendAi","name","data","loading","imageshow","form","price","discount","class","condition","description","image","options","label","value","options2","methods","then","res","console","log","message","content","catch","err","$notify","error","handlePictureCardPreview","file","dialogImageUrl","url","handleExceed","$message","warning"],"sources":["C:\\Users\\Administrator\\Desktop\\ershou\\src\\pages\\goods\\uploadGoods.vue"],"sourcesContent":["<template>\r\n    <div class=\"uploadGoods\">\r\n        <h4 style=\"padding-top: 10px;\">上传商品</h4>\r\n        <div class=\"form_box\">\r\n            <el-form :model=\"form\" style=\"padding-left: 20px;padding-top: 10px;\" label-width=\"100px\">\r\n                <el-form-item label=\"名称：\">\r\n                    <el-input style=\"width: 400px;\" placeholder=\"请填写商品名称\" v-model=\"form.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"原价：\">\r\n                    <el-input-number v-model=\"form.price\" style=\"width: 400px;\" min=\"0\" :precision=\"2\"\r\n                        :step=\"0.1\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"折扣：\">\r\n                    <el-input-number v-model=\"form.discount\" style=\"width: 400px;\" :precision=\"2\" :step=\"0.01\" max=\"1\"\r\n                        min=\"0\"></el-input-number>\r\n                    <span v-if=\"form.discount !== 1\" style=\"margin-left: 10px;\">\r\n                        {{ form.discount * 100 / 10 }}折\r\n                    </span>\r\n                </el-form-item>\r\n                <el-form-item label=\"售价：\">\r\n                    <el-input disabled style=\"width: 400px;\"\r\n                        :value=\"(form.price * (form.discount * 100)) / 100\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"分类：\">\r\n                    <el-select v-model=\"form.class\" placeholder=\"请选择商品分类\" style=\"width: 240px\">\r\n                        <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"成色\">\r\n                    <el-select v-model=\"form.condition\" placeholder=\"请选择商品成色\" style=\"width: 240px\">\r\n                        <el-option v-for=\"item in options2\" :key=\"item\" :label=\"item\" :value=\"item\" />\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"商品描述：\">\r\n                    <div style=\"display: flex;\">\r\n                        <el-input type=\"textarea\" v-loading=\"loading\" v-model=\"form.description\" style=\"width: 400px;\"\r\n                            :rows=\"6\" placeholder=\"请填写商品描述\">\r\n                        </el-input>\r\n                        <el-button type=\"primary\" style=\"margin-left: 20px;\" @click=\"sendAi\">\r\n                            一键生成商品描述\r\n                        </el-button>\r\n                    </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"图片:\">\r\n                    <el-upload action=\"#\" v-model:file-list=\"form.image\" :auto-upload=\"false\" limit=\"4\"\r\n                        list-type=\"picture-card\" :on-preview=\"handlePictureCardPreview\" :on-exceed=\"handleExceed\"\r\n                        accept=\"image/jpg,image/jpeg,image/png\">\r\n                        <el-icon>\r\n                            <Plus />\r\n                        </el-icon>\r\n                    </el-upload>\r\n                    <el-dialog v-model=\"imageshow\">\r\n                        <img w-full :src=\"dialogImageUrl\" alt=\"Preview Image\" />\r\n                    </el-dialog>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div style=\"text-align: center;\">\r\n                <el-button type=\"primary\" @click=\"submitForm\" style=\"margin-left: 20px;margin-bottom: 40px;\">\r\n                    上传商品\r\n                </el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { sendAi } from '@/api/request'\r\nexport default {\r\n    name: 'uploadGoods',\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            imageshow: false,\r\n            form: {\r\n                name: '',\r\n                price: '',\r\n                discount: 1,\r\n                class: '',\r\n                condition: '',\r\n                description: '',\r\n                image: []\r\n            },\r\n            options: [\r\n                { label: '书籍', value: 'book' },\r\n                { label: '电子产品', value: 'electronics' },\r\n                { label: '食品', value: 'food' },\r\n                { label: '衣物', value: 'clothes' },\r\n                { label: '家具', value: 'furniture' },\r\n                { label: '化妆品', value: 'cosmetics' },\r\n                { label: '运动器材', value: 'sports' },\r\n                { label: '乐器', value: 'instrument' },\r\n                { label: '其他', value: 'other' }\r\n            ],\r\n            options2: ['全新', '九成新', '八成新', '七成新', '六成新', '五成新', '四成新', '三成新', '二成新', '一成新']\r\n        }\r\n    },\r\n    methods: {\r\n        sendAi() {\r\n            this.loading = true\r\n            sendAi(this.form)\r\n                .then(res => {\r\n                    console.log('asd', res);\r\n                    this.form.description = res.data.data.message.content\r\n                    this.loading = false\r\n                }).catch(err => {\r\n                    console.log('1111', err);\r\n                    this.loading = false\r\n                    this.$notify.error(err.data.error)\r\n                })\r\n        },\r\n        handlePictureCardPreview(file) {\r\n            this.imageshow = true\r\n            this.dialogImageUrl = file.url\r\n        },\r\n        handleExceed() {\r\n            this.$message.warning('最多上传4张图片')\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.uploadGoods {\r\n    max-width: 100vw;\r\n    padding: 0 20px 0 20px;\r\n    background: url('https://img.keaitupian.cn/newupload/08/1629449018344288.jpg') no-repeat;\r\n    background-size: cover;\r\n    overflow-y: scroll;\r\n    max-height: calc(100% - 100px);\r\n}\r\n</style>"],"mappings":"AAkEA,SAASA,MAAK,QAAS,eAAc;AACrC,eAAe;EACXC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,OAAO,EAAE,KAAK;MACdC,SAAS,EAAE,KAAK;MAChBC,IAAI,EAAE;QACFJ,IAAI,EAAE,EAAE;QACRK,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,CAAC;QACXC,KAAK,EAAE,EAAE;QACTC,SAAS,EAAE,EAAE;QACbC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE;MACX,CAAC;MACDC,OAAO,EAAE,CACL;QAAEC,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAO,CAAC,EAC9B;QAAED,KAAK,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAc,CAAC,EACvC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAO,CAAC,EAC9B;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAU,CAAC,EACjC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAY,CAAC,EACnC;QAAED,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAY,CAAC,EACpC;QAAED,KAAK,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAS,CAAC,EAClC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAa,CAAC,EACpC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAQ,EACjC;MACDC,QAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;IAClF;EACJ,CAAC;EACDC,OAAO,EAAE;IACLhB,MAAMA,CAAA,EAAG;MACL,IAAI,CAACG,OAAM,GAAI,IAAG;MAClBH,MAAM,CAAC,IAAI,CAACK,IAAI,EACXY,IAAI,CAACC,GAAE,IAAK;QACTC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,GAAG,CAAC;QACvB,IAAI,CAACb,IAAI,CAACK,WAAU,GAAIQ,GAAG,CAAChB,IAAI,CAACA,IAAI,CAACmB,OAAO,CAACC,OAAM;QACpD,IAAI,CAACnB,OAAM,GAAI,KAAI;MACvB,CAAC,CAAC,CAACoB,KAAK,CAACC,GAAE,IAAK;QACZL,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEI,GAAG,CAAC;QACxB,IAAI,CAACrB,OAAM,GAAI,KAAI;QACnB,IAAI,CAACsB,OAAO,CAACC,KAAK,CAACF,GAAG,CAACtB,IAAI,CAACwB,KAAK;MACrC,CAAC;IACT,CAAC;IACDC,wBAAwBA,CAACC,IAAI,EAAE;MAC3B,IAAI,CAACxB,SAAQ,GAAI,IAAG;MACpB,IAAI,CAACyB,cAAa,GAAID,IAAI,CAACE,GAAE;IACjC,CAAC;IACDC,YAAYA,CAAA,EAAG;MACX,IAAI,CAACC,QAAQ,CAACC,OAAO,CAAC,UAAU;IACpC;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}