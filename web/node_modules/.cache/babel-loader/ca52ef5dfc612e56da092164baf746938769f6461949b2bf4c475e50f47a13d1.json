{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2ba89413\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"shop\"\n};\nconst _hoisted_2 = {\n  class: \"search-box\"\n};\nconst _hoisted_3 = {\n  class: \"filter-box\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"font-size\": \"12px\"\n  }\n}, \"成色选择：\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"font-size\": \"12px\",\n    \"margin-left\": \"15px\"\n  }\n}, \"分类选择：\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"font-size\": \"12px\",\n    \"margin-left\": \"15px\"\n  }\n}, \"排序选择：\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"goods-box\"\n};\nconst _hoisted_8 = {\n  class: \"goods-info\"\n};\nconst _hoisted_9 = {\n  class: \"goods-name\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"goods-price\"\n};\nconst _hoisted_11 = {\n  key: 1,\n  class: \"goods-discount\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"font-size\": \"12px\"\n  }\n}, \"折扣:\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  style: {\n    \"color\": \"red\",\n    \"margin-left\": \"10px\"\n  }\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"font-size\": \"12px\"\n  }\n}, \"售价：\", -1 /* HOISTED */));\nconst _hoisted_15 = {\n  style: {\n    \"color\": \"#499eff\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_image, {\n    src: require('../../menu/menuLogo.png'),\n    style: {\n      \"width\": \"40px\",\n      \"height\": \"40px\"\n    }\n  }, null, 8 /* PROPS */, [\"src\"]), _createVNode(_component_el_input, {\n    modelValue: $data.searchName,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchName = $event),\n    class: \"search\",\n    placeholder: \"请输入搜索内容\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_button, {\n    class: \"search_button\",\n    type: \"primary\",\n    onClick: _ctx.search\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"搜索\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])]), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createVNode(_component_el_select, {\n    size: \"small\",\n    clearable: \"\",\n    modelValue: $data.condition,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.condition = $event),\n    placeholder: \"请选择商品成色\",\n    style: {\n      \"width\": \"140px\"\n    }\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.options2, item => {\n      return _openBlock(), _createBlock(_component_el_option, {\n        key: item,\n        label: item,\n        value: item\n      }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _hoisted_5, _createVNode(_component_el_select, {\n    clearable: \"\",\n    size: \"small\",\n    modelValue: $data.category,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.category = $event),\n    placeholder: \"请选择商品分类\",\n    style: {\n      \"width\": \"140px\"\n    }\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.options, item => {\n      return _openBlock(), _createBlock(_component_el_option, {\n        key: item.value,\n        label: item.label,\n        value: item.value\n      }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _hoisted_6, _createVNode(_component_el_select, {\n    size: \"small\",\n    clearable: \"\",\n    modelValue: $data.sort,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.sort = $event),\n    placeholder: \"请选择排序方式\",\n    style: {\n      \"width\": \"140px\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_option, {\n      label: \"按价格升序\",\n      value: \"priceAsc\"\n    }), _createVNode(_component_el_option, {\n      label: \"按价格降序\",\n      value: \"priceDesc\"\n    }), _createVNode(_component_el_option, {\n      label: \"按时间升序\",\n      value: \"timeAsc\"\n    }), _createVNode(_component_el_option, {\n      label: \"按时间降序\",\n      value: \"timeDesc\"\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_7, [_createCommentVNode(\" {{ filterList }} \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filterList, item => {\n    return _openBlock(), _createBlock(_component_el_card, {\n      key: item.goodsId,\n      class: \"goods-card\",\n      style: {\n        \"width\": \"200px\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_image, {\n        style: {\n          \"min-width\": \"50px\",\n          \"max-width\": \"50px\",\n          \"height\": \"100px\"\n        },\n        src: item.image[0].url\n      }, null, 8 /* PROPS */, [\"src\"]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, _toDisplayString(item.name), 1 /* TEXT */), item.discount !== 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \" 原价：\" + _toDisplayString(item.price), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), item.discount !== 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"span\", _hoisted_13, _toDisplayString(item.discount * 100 / 10) + \"折\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", null, [_hoisted_14, _createElementVNode(\"span\", _hoisted_15, \"￥\" + _toDisplayString(item.price * (item.discount * 100) / 100), 1 /* TEXT */)])])]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_image","src","require","_component_el_input","$data","searchName","$event","placeholder","_component_el_button","type","onClick","_ctx","search","_hoisted_3","_hoisted_4","_component_el_select","size","clearable","condition","_Fragment","_renderList","options2","item","_createBlock","_component_el_option","key","label","value","_hoisted_5","category","options","_hoisted_6","sort","_hoisted_7","_createCommentVNode","$options","filterList","_component_el_card","goodsId","image","url","_hoisted_8","_hoisted_9","_toDisplayString","name","discount","_hoisted_10","price","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15"],"sources":["C:\\Users\\Administrator\\Desktop\\ershou\\src\\pages\\goods\\shop.vue"],"sourcesContent":["<template>\r\n  <div class=\"shop\">\r\n    <div class=\"search-box\">\r\n      <el-image :src=\"require('../../menu/menuLogo.png')\" style=\"width: 40px; height: 40px\"></el-image>\r\n      <el-input v-model=\"searchName\" class=\"search\" placeholder=\"请输入搜索内容\"></el-input>\r\n      <el-button class=\"search_button\" type=\"primary\" @click=\"search\">搜索</el-button>\r\n    </div>\r\n    <div class=\"filter-box\">\r\n      <span style=\"font-size: 12px;\">成色选择：</span>\r\n      <el-select size=\"small\" clearable v-model=\"condition\" placeholder=\"请选择商品成色\" style=\"width: 140px\">\r\n        <el-option v-for=\"item in options2\" :key=\"item\" :label=\"item\" :value=\"item\" />\r\n      </el-select>\r\n      <span style=\"font-size: 12px;margin-left: 15px;\">分类选择：</span>\r\n      <el-select clearable size=\"small\" v-model=\"category\" placeholder=\"请选择商品分类\" style=\"width: 140px\">\r\n        <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\r\n      </el-select>\r\n      <span style=\"font-size: 12px;margin-left: 15px;\">排序选择：</span>\r\n      <el-select size=\"small\" clearable v-model=\"sort\" placeholder=\"请选择排序方式\" style=\"width: 140px\">\r\n        <el-option label=\"按价格升序\" value=\"priceAsc\" />\r\n        <el-option label=\"按价格降序\" value=\"priceDesc\" />\r\n        <el-option label=\"按时间升序\" value=\"timeAsc\" />\r\n        <el-option label=\"按时间降序\" value=\"timeDesc\" />\r\n      </el-select>\r\n    </div>\r\n    <div class=\"goods-box\">\r\n      <!-- {{ filterList }} -->\r\n      <el-card v-for=\"item in filterList\" :key=\"item.goodsId\" class=\"goods-card\" style=\"width: 200px;\">\r\n        <el-image style=\"min-width: 50px;max-width:50px; height:100px\" :src=\"item.image[0].url\"></el-image>\r\n        <div class=\"goods-info\">\r\n          <div class=\"goods-name\">\r\n            {{ item.name }}\r\n          </div>\r\n          <div class=\"goods-price\" v-if=\"item.discount !== 1\">\r\n            原价：{{ item.price }}\r\n          </div>\r\n          <div class=\"goods-discount\" v-if=\"item.discount !== 1\">\r\n            <span style=\"font-size:12px\">折扣:</span><span style=\"color:red;margin-left:10px;\">{{ item.discount * 100 / 10 }}折</span>\r\n          </div>\r\n          <div>\r\n            <span style=\"font-size: 12px;\">售价：</span>\r\n            <span style=\"color:#499eff\">￥{{( item.price * (item.discount * 100))/100 }}</span>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getGoods } from '@/api/request'\r\nexport default {\r\n  name: 'shopHome',\r\n  data() {\r\n    return {\r\n      allGoodsList: [],\r\n      searchName: '',\r\n      options: [\r\n        { label: '书籍', value: 'book' },\r\n        { label: '电子产品', value: 'electronics' },\r\n        { label: '食品', value: 'food' },\r\n        { label: '衣物', value: 'clothes' },\r\n        { label: '家具', value: 'furniture' },\r\n        { label: '化妆品', value: 'cosmetics' },\r\n        { label: '运动器材', value: 'sports' },\r\n        { label: '乐器', value: 'instrument' },\r\n        { label: '其他', value: 'other' }\r\n      ],\r\n      options2: ['全新', '九成新', '八成新', '七成新', '六成新', '五成新', '四成新', '三成新', '二成新', '一成新'],\r\n      condition: \"\",\r\n      category: \"\",\r\n      sort: \"\"\r\n    }\r\n  },\r\n  computed: {\r\n    filterList() {\r\n      let list = this.allGoodsList.filter(item => {\r\n        return item.status === 0\r\n      });\r\n      if (this.searchName) {\r\n        list = list.filter(item => {\r\n          return item.name.includes(this.searchName)\r\n        })\r\n      }\r\n      if (this.condition) {\r\n        list = list.filter(item => {\r\n          return item.condition === this.condition\r\n        })\r\n      }\r\n      if (this.category) {\r\n        list = list.filter(item => {\r\n          return item.category === this.category\r\n        })\r\n      }\r\n      if (this.sort) {\r\n        if (this.sort === 'priceAsc') {\r\n          list = list.sort((a, b) => {\r\n            return a.price - b.price\r\n          })\r\n        } else if (this.sort === 'priceDesc') {\r\n          list = list.sort((a, b) => {\r\n            return b.price - a.price\r\n          })\r\n        } else if (this.sort === 'timeAsc') {\r\n          list = list.sort((a, b) => {\r\n            return new Date(a.createTime) - new Date(b.createTime)\r\n          })\r\n        } else if (this.sort === 'timeDesc') {\r\n          list = list.sort((a, b) => {\r\n            return new Date(b.createTime) - new Date(a.createTime)\r\n          })\r\n        }\r\n      }\r\n      console.log(list);\r\n      return list;\r\n    }\r\n  },\r\n  created() {\r\n    getGoods().then(res => {\r\n      console.log(res.data.data)\r\n      this.allGoodsList = res.data.data\r\n      this.allGoodsList.forEach(item => {\r\n        item.image = JSON.parse(item.filesJson)\r\n        item.image.forEach(img => {\r\n          const mimeType = img.contentType\r\n          img.url = `data:${mimeType};base64,${img.base64}`;\r\n        })\r\n      })\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-box {\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .search {\r\n    margin: 10px;\r\n    margin-right: 0px;\r\n    width: 60%;\r\n  }\r\n\r\n  /deep/.el-button {\r\n    border-radius: 0 20px 20px 0;\r\n  }\r\n\r\n  /deep/.el-input__wrapper {\r\n    border-radius: 20px 0 0 20px;\r\n  }\r\n}\r\n\r\n.filter-box {\r\n  text-align: center;\r\n}\r\n\r\n.goods-box {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n\r\n  .goods-card {\r\n    margin: 10px;\r\n    display: flex;\r\n\r\n    .goods-info {\r\n      margin-left: 10px;\r\n\r\n      .goods-name {\r\n        color: rgba($color: #499eff, $alpha: 0.6);\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n      }\r\n      .goods-price{\r\n        // 删除线\r\n        text-decoration: line-through;\r\n        color:#565656;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/deep/.el-card__body {\r\n  display: flex;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}