{"ast":null,"code":"import { getGoodsDetail } from '@/api/request';\nimport { space } from '@/utils/utils';\nexport default {\n  data() {\n    return {\n      goodsDetail: {}\n    };\n  },\n  components: {},\n  computed: {\n    goodsId() {\n      return this.$route.query.goodsId;\n    },\n    distance() {\n      const myLocation = localStorage.getItem('myLocation');\n      if (!myLocation) {}\n      return space();\n    }\n  },\n  methods: {},\n  created() {\n    console.log(this.goodsId);\n    getGoodsDetail({\n      goodsId: this.goodsId\n    }).then(res => {\n      this.goodsDetail = res.data.data;\n      console.log(res.data.data);\n      this.goodsDetail.filesJson = JSON.parse(res.data.data.filesJson);\n      console.log(this.goodsDetail.filesJson);\n      this.goodsDetail.filesJson.forEach(img => {\n        const mimeType = img.contentType;\n        img.url = `data:${mimeType};base64,${img.base64}`;\n      });\n      console.log(this.goodsDetail.filesJson);\n    });\n  }\n};","map":{"version":3,"names":["getGoodsDetail","space","data","goodsDetail","components","computed","goodsId","$route","query","distance","myLocation","localStorage","getItem","methods","created","console","log","then","res","filesJson","JSON","parse","forEach","img","mimeType","contentType","url","base64"],"sources":["C:\\Users\\Administrator\\Desktop\\ershou\\src\\pages\\goods\\buyGoods.vue"],"sourcesContent":["<template>\r\n    <div class=\"buyGoods\">\r\n        <el-carousel indicator-position=\"outside\"  type=\"card\">\r\n            <el-carousel-item v-for=\"item in this.goodsDetail.filesJson\" :key=\"item\">\r\n                <!-- 原来尺寸大小展示 -->\r\n            <el-image style=\"width: 100%; height: 100%\" fit=\"contain\" :src=\"item.url\"></el-image>\r\n            </el-carousel-item>\r\n        </el-carousel>\r\n        <div class=\"goodsInfo\">\r\n            <div class=\"title\">{{ goodsDetail.name }}</div>\r\n            <div>原价：{{ goodsDetail.price }}</div>\r\n            <div v-vif=\"goodsDetail.discount != 1\">折扣：{{ goodsDetail.discount}}</div>\r\n            <div v-if=\"goodsDetail.discount != 1\">现价：{{ (goodsDetail.price * (goodsDetail.discount *100))/100 }}</div>\r\n            <div>成色：{{ goodsDetail.condition}}</div>\r\n            <div>描述：{{ goodsDetail.description}}</div>\r\n            <div>交易地点：{{ goodsDetail.address}}</div>\r\n            <div>距离：{{ distance}}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getGoodsDetail } from '@/api/request'\r\nimport {space} from '@/utils/utils'\r\nexport default {\r\n    data() {\r\n        return {\r\n            goodsDetail: {}\r\n        }\r\n    },\r\n    components: {\r\n\r\n    },\r\n    computed: {\r\n        goodsId() {\r\n            return this.$route.query.goodsId\r\n        },\r\n        distance () {\r\n            const myLocation = localStorage.getItem('myLocation')\r\n            if (!myLocation) {\r\n                \r\n            } \r\n            return space()\r\n        }\r\n    },\r\n    methods: {\r\n\r\n    },\r\n    created() {\r\n        console.log(this.goodsId);\r\n        getGoodsDetail({ goodsId: this.goodsId }).then(res => {\r\n            this.goodsDetail = res.data.data\r\n            console.log(res.data.data);\r\n            this.goodsDetail.filesJson = JSON.parse(res.data.data.filesJson)\r\n            console.log(this.goodsDetail.filesJson);\r\n            this.goodsDetail.filesJson.forEach(img => {\r\n                const mimeType = img.contentType\r\n                img.url = `data:${mimeType};base64,${img.base64}`;\r\n            })\r\n            console.log(this.goodsDetail.filesJson)\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.goodsInfo{\r\n    padding: 20px;\r\n    background-color: #f5f5f5;\r\n    .title{\r\n        color: #11192d;\r\n        font-family: PingFangSC-Semibold;\r\n        font-size: 20px;\r\n        font-weight: 600;\r\n        letter-spacing: 0;\r\n        line-height: 30px;\r\n        -webkit-line-clamp: 2;\r\n        -webkit-box-orient: vertical;\r\n        display: -webkit-box;\r\n    }\r\n}\r\n</style>"],"mappings":"AAsBA,SAASA,cAAa,QAAS,eAAc;AAC7C,SAAQC,KAAK,QAAO,eAAc;AAClC,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,WAAW,EAAE,CAAC;IAClB;EACJ,CAAC;EACDC,UAAU,EAAE,CAEZ,CAAC;EACDC,QAAQ,EAAE;IACNC,OAAOA,CAAA,EAAG;MACN,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,OAAM;IACnC,CAAC;IACDG,QAAOA,CAAA,EAAK;MACR,MAAMC,UAAS,GAAIC,YAAY,CAACC,OAAO,CAAC,YAAY;MACpD,IAAI,CAACF,UAAU,EAAE,CAEjB;MACA,OAAOT,KAAK,CAAC;IACjB;EACJ,CAAC;EACDY,OAAO,EAAE,CAET,CAAC;EACDC,OAAOA,CAAA,EAAG;IACNC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,OAAO,CAAC;IACzBN,cAAc,CAAC;MAAEM,OAAO,EAAE,IAAI,CAACA;IAAQ,CAAC,CAAC,CAACW,IAAI,CAACC,GAAE,IAAK;MAClD,IAAI,CAACf,WAAU,GAAIe,GAAG,CAAChB,IAAI,CAACA,IAAG;MAC/Ba,OAAO,CAACC,GAAG,CAACE,GAAG,CAAChB,IAAI,CAACA,IAAI,CAAC;MAC1B,IAAI,CAACC,WAAW,CAACgB,SAAQ,GAAIC,IAAI,CAACC,KAAK,CAACH,GAAG,CAAChB,IAAI,CAACA,IAAI,CAACiB,SAAS;MAC/DJ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,WAAW,CAACgB,SAAS,CAAC;MACvC,IAAI,CAAChB,WAAW,CAACgB,SAAS,CAACG,OAAO,CAACC,GAAE,IAAK;QACtC,MAAMC,QAAO,GAAID,GAAG,CAACE,WAAU;QAC/BF,GAAG,CAACG,GAAE,GAAI,QAAQF,QAAQ,WAAWD,GAAG,CAACI,MAAM,EAAE;MACrD,CAAC;MACDZ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,WAAW,CAACgB,SAAS;IAC1C,CAAC;EACL;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}