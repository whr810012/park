{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"padding\": \"20px\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title\"\n}, \" 各类型订单比例示意 \", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"proportionOption\",\n  id: \"proportionOption\",\n  style: {\n    \"width\": \"600px\",\n    \"height\": \"400px\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title\"\n}, \" 各分类订单 \", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"classProportionOption\",\n  id: \"classProportionOption\",\n  style: {\n    \"width\": \"80%\",\n    \"height\": \"400px\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_6 = [_hoisted_2, _hoisted_3, _hoisted_4, _hoisted_5];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_6);\n}","map":{"version":3,"names":["style","_createElementVNode","class","id","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_hoisted_1","_hoisted_6"],"sources":["C:\\Users\\Administrator\\Desktop\\ershou\\src\\pages\\home\\statisticsManage.vue"],"sourcesContent":["<template>\r\n  <div style=\"padding: 20px\">\r\n    <div class=\"title\">\r\n      各类型订单比例示意\r\n    </div>\r\n    <div class=\"proportionOption\" id=\"proportionOption\" style=\"width: 600px;height:400px\"></div>\r\n    <div class=\"title\">\r\n      各分类订单\r\n    </div>\r\n    <div class=\"classProportionOption\" id=\"classProportionOption\" style=\"width: 80%;height:400px\">\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllOrder } from '../../api/request'\r\nimport * as echarts from 'echarts';\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderList: [],\r\n      notOrderList: [],\r\n      awaitOrderList: [],\r\n      okOrderList: [],\r\n      proportionOption: {},\r\n      classOption: [\r\n        { label: '书籍', value: 'book' },\r\n        { label: '电子产品', value: 'electronics' },\r\n        { label: '食品', value: 'food' },\r\n        { label: '衣物', value: 'clothes' },\r\n        { label: '家具', value: 'furniture' },\r\n        { label: '化妆品', value: 'cosmetics' },\r\n        { label: '运动器材', value: 'sports' },\r\n        { label: '乐器', value: 'instrument' },\r\n        { label: '其他', value: 'other' }\r\n      ],\r\n      classProportionOption: {\r\n        xAxis: {\r\n          type: 'category',\r\n          data: ['书籍', '电子产品', '食品', '家具', '化妆品', '运动器材', '乐器', '其他']\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: [0,0,0,0,0,0,0,0],\r\n            type: 'bar',\r\n            showBackground: true,\r\n            backgroundStyle: {\r\n              color: 'rgba(180, 180, 180, 0.2)'\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async init() {\r\n      await getAllOrder().then(res => {\r\n        this.orderList = res.data.data\r\n        console.log(this.orderList)\r\n        this.okOrderList = this.orderList.filter(item => item.status === '1' || item.status === '3')\r\n        this.notOrderList = this.orderList.filter(item => item.status === '2')\r\n        this.awaitOrderList = this.orderList.filter(item => item.status === '0')\r\n        // 订单类型比例图\r\n        this.classOption.map((item, index) => {\r\n          this.okOrderList.map(item1 => {\r\n            if (item1.goods.category == item.value) {\r\n              this.classProportionOption.series[0].data[index] ++\r\n            }\r\n          })\r\n        })\r\n        this.proportionOption = {\r\n          title: {\r\n            text: '订单状态比例图',\r\n            // subtext: 'Fake Data',\r\n            left: 'center'\r\n          },\r\n          tooltip: {\r\n            trigger: 'item'\r\n          },\r\n          legend: {\r\n            orient: 'vertical',\r\n            left: 'left'\r\n          },\r\n          series: [\r\n            {\r\n              name: '数量',\r\n              type: 'pie',\r\n              data: [\r\n                {\r\n                  value: this.okOrderList.length,\r\n                  name: '已确认、已完成订单'\r\n                },\r\n                {\r\n                  value: this.notOrderList.length,\r\n                  name: '已拒绝订单'\r\n                },\r\n                {\r\n                  value: this.awaitOrderList.length,\r\n                  name: '待确认订单'\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n        console.log(this.classProportionOption);\r\n        this.myChart.setOption(this.proportionOption)\r\n        this.myChart2.setOption(this.classProportionOption)\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  async created() {\r\n    await this.init()\r\n  },\r\n  mounted() {\r\n    this.myChart = echarts.init(document.getElementById('proportionOption'))\r\n    this.$nextTick(() => {\r\n      this.myChart.setOption(this.proportionOption)\r\n    })\r\n    this.myChart2 = echarts.init(document.getElementById('classProportionOption'))\r\n    this.$nextTick(() => {\r\n      this.myChart2.setOption(this.classProportionOption)\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAqB,EAArB;IAAA;EAAA;AAAqB;gCACxBC,mBAAA,CAEM;EAFDC,KAAK,EAAC;AAAO,GAAC,aAEnB;gCACAD,mBAAA,CAA4F;EAAvFC,KAAK,EAAC,kBAAkB;EAACC,EAAE,EAAC,kBAAkB;EAACH,KAAiC,EAAjC;IAAA;IAAA;EAAA;;gCACpDC,mBAAA,CAEM;EAFDC,KAAK,EAAC;AAAO,GAAC,SAEnB;gCACAD,mBAAA,CAEM;EAFDC,KAAK,EAAC,uBAAuB;EAACC,EAAE,EAAC,uBAAuB;EAACH,KAA+B,EAA/B;IAAA;IAAA;EAAA;;oBAP9DI,UAEM,EACNC,UAA4F,EAC5FC,UAEM,EACNC,UAEM,C;;uBAVRC,mBAAA,CAWM,OAXNC,UAWM,EAAAC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}