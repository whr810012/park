{"ast":null,"code":"import { getAllOrder } from '../../api/request';\nimport * as echarts from 'echarts';\nexport default {\n  data() {\n    return {\n      orderList: [],\n      notOrderList: [],\n      awaitOrderList: [],\n      okOrderList: [],\n      proportionOption: {}\n    };\n  },\n  methods: {\n    init() {\n      getAllOrder().then(res => {\n        this.orderList = res.data.data;\n        console.log(this.orderList);\n        this.okOrderList = this.orderList.filter(item => item.status === '1' || item.status === '3');\n        this.notOrderList = this.orderList.filter(item => item.status === '2');\n        this.awaitOrderList = this.orderList.filter(item => item.status === '0');\n        this.proportionOption = {\n          title: {\n            text: 'Referer of a Website',\n            subtext: 'Fake Data',\n            left: 'center'\n          },\n          tooltip: {\n            trigger: 'item'\n          },\n          legend: {\n            orient: 'vertical',\n            left: 'left'\n          },\n          series: [{\n            name: '数量',\n            type: 'pie',\n            data: [{\n              value: this.okOrderList.length,\n              name: '已确认、已完成订单'\n            }, {\n              value: this.notOrderList.length,\n              name: '已拒绝订单'\n            }, {\n              value: this.awaitOrderList.length,\n              name: '待确认订单'\n            }]\n          }]\n        };\n      });\n    }\n  },\n  computed: {},\n  async created() {\n    await this.init();\n  },\n  mounted() {\n    const myChart = echarts.init(document.getElementById('proportionOption'));\n    this.$nextTick(() => {\n      myChart.setOption(this.proportionOption);\n    });\n  }\n};","map":{"version":3,"names":["getAllOrder","echarts","data","orderList","notOrderList","awaitOrderList","okOrderList","proportionOption","methods","init","then","res","console","log","filter","item","status","title","text","subtext","left","tooltip","trigger","legend","orient","series","name","type","value","length","computed","created","mounted","myChart","document","getElementById","$nextTick","setOption"],"sources":["C:\\Users\\Administrator\\Desktop\\ershou\\src\\pages\\home\\statisticsManage.vue"],"sourcesContent":["<template>\r\n  <div style=\"padding: 20px\">\r\n    <div class=\"title\">\r\n      各类型订单比例示意图\r\n    </div>\r\n    <div class=\"proportionOption\" id=\"proportionOption\" style=\"width: 600px;height:400px\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllOrder } from '../../api/request'\r\nimport * as echarts from 'echarts';\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderList: [],\r\n      notOrderList: [],\r\n      awaitOrderList: [],\r\n      okOrderList: [],\r\n      proportionOption: {}\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      getAllOrder().then(res => {\r\n        this.orderList = res.data.data\r\n        console.log(this.orderList)\r\n        this.okOrderList = this.orderList.filter(item => item.status === '1' || item.status === '3')\r\n        this.notOrderList = this.orderList.filter(item => item.status === '2')\r\n        this.awaitOrderList = this.orderList.filter(item => item.status === '0')\r\n        this.proportionOption = {\r\n        title: {\r\n          text: 'Referer of a Website',\r\n          subtext: 'Fake Data',\r\n          left: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left'\r\n        },\r\n        series: [\r\n          {\r\n            name: '数量',\r\n            type: 'pie',\r\n            data: [\r\n              {\r\n                value: this.okOrderList.length,\r\n                name: '已确认、已完成订单'\r\n              },\r\n              {\r\n                value: this.notOrderList.length,\r\n                name: '已拒绝订单'\r\n              },\r\n              {\r\n                value: this.awaitOrderList.length,\r\n                name: '待确认订单'\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  async created() {\r\n    await this.init()\r\n  },\r\n  mounted() {\r\n    const myChart = echarts.init(document.getElementById('proportionOption'))\r\n    this.$nextTick(() => {\r\n      myChart.setOption(this.proportionOption)\r\n      \r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n}\r\n</style>"],"mappings":"AAUA,SAASA,WAAU,QAAS,mBAAkB;AAC9C,OAAO,KAAKC,OAAM,MAAO,SAAS;AAClC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAE,EAAE;MAChBC,cAAc,EAAE,EAAE;MAClBC,WAAW,EAAE,EAAE;MACfC,gBAAgB,EAAE,CAAC;IACrB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,IAAIA,CAAA,EAAG;MACLT,WAAW,CAAC,CAAC,CAACU,IAAI,CAACC,GAAE,IAAK;QACxB,IAAI,CAACR,SAAQ,GAAIQ,GAAG,CAACT,IAAI,CAACA,IAAG;QAC7BU,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,SAAS;QAC1B,IAAI,CAACG,WAAU,GAAI,IAAI,CAACH,SAAS,CAACW,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,MAAK,KAAM,GAAE,IAAKD,IAAI,CAACC,MAAK,KAAM,GAAG;QAC3F,IAAI,CAACZ,YAAW,GAAI,IAAI,CAACD,SAAS,CAACW,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,MAAK,KAAM,GAAG;QACrE,IAAI,CAACX,cAAa,GAAI,IAAI,CAACF,SAAS,CAACW,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,MAAK,KAAM,GAAG;QACvE,IAAI,CAACT,gBAAe,GAAI;UACxBU,KAAK,EAAE;YACLC,IAAI,EAAE,sBAAsB;YAC5BC,OAAO,EAAE,WAAW;YACpBC,IAAI,EAAE;UACR,CAAC;UACDC,OAAO,EAAE;YACPC,OAAO,EAAE;UACX,CAAC;UACDC,MAAM,EAAE;YACNC,MAAM,EAAE,UAAU;YAClBJ,IAAI,EAAE;UACR,CAAC;UACDK,MAAM,EAAE,CACN;YACEC,IAAI,EAAE,IAAI;YACVC,IAAI,EAAE,KAAK;YACXzB,IAAI,EAAE,CACJ;cACE0B,KAAK,EAAE,IAAI,CAACtB,WAAW,CAACuB,MAAM;cAC9BH,IAAI,EAAE;YACR,CAAC,EACD;cACEE,KAAK,EAAE,IAAI,CAACxB,YAAY,CAACyB,MAAM;cAC/BH,IAAI,EAAE;YACR,CAAC,EACD;cACEE,KAAK,EAAE,IAAI,CAACvB,cAAc,CAACwB,MAAM;cACjCH,IAAI,EAAE;YACR;UAEJ;QAEJ;MACA,CAAC;IACH;EACF,CAAC;EACDI,QAAQ,EAAE,CACV,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACtB,IAAI,CAAC;EAClB,CAAC;EACDuB,OAAOA,CAAA,EAAG;IACR,MAAMC,OAAM,GAAIhC,OAAO,CAACQ,IAAI,CAACyB,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;IACxE,IAAI,CAACC,SAAS,CAAC,MAAM;MACnBH,OAAO,CAACI,SAAS,CAAC,IAAI,CAAC9B,gBAAgB;IAEzC,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}