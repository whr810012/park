{"ast":null,"code":"import { getAllArea, deleteArea, addArea, updateArea } from '@/api/request';\nexport default {\n  data() {\n    return {\n      tableData: [],\n      addShow: false,\n      editShow: false,\n      newAreaName: '',\n      editForm: {}\n    };\n  },\n  methods: {\n    closeDia() {\n      this.addShow = false;\n      this.editShow = false;\n      this.editForm = {};\n      this.newAreaName = '';\n    },\n    editArea() {\n      updateArea(this.editForm).then(() => {\n        this.$message({\n          type: 'success',\n          message: '修改成功!'\n        });\n        this.closeDia();\n        this.getArea();\n      });\n    },\n    editDiaShow(item) {\n      this.editForm = {\n        ...item\n      };\n      this.editShow = true;\n    },\n    async getArea() {\n      const res = await getAllArea();\n      this.tableData = res.data.data;\n    },\n    addArea() {\n      const data = {\n        areaName: this.newAreaName,\n        areaid: Math.floor(Date.now() / 1000) + Math.floor(Math.random() * 1000)\n      };\n      addArea(data).then(() => {\n        this.$message({\n          type: 'success',\n          message: '添加成功!'\n        });\n        this.closeDia();\n        this.getArea();\n      });\n    },\n    deleteArea(item) {\n      this.$confirm('此操作将永久删除该区域, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        deleteArea([item.areaid]).then(() => {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n          this.getArea();\n        });\n      });\n    }\n  },\n  created() {\n    this.getArea();\n  }\n};","map":{"version":3,"names":["getAllArea","deleteArea","addArea","updateArea","data","tableData","addShow","editShow","newAreaName","editForm","methods","closeDia","editArea","then","$message","type","message","getArea","editDiaShow","item","res","areaName","areaid","Math","floor","Date","now","random","$confirm","confirmButtonText","cancelButtonText","created"],"sources":["D:\\CODE\\park\\park-vue\\web\\src\\pages\\home\\areaManage.vue"],"sourcesContent":["<template>\r\n  <div class=\"area-manage\" style=\"padding: 20px\">\r\n    <el-button type=\"primary\" @click=\"addShow = true\">新增区域</el-button>\r\n    <el-table :data=\"tableData\" style=\"width: 100%; margin-top: 20px\" border >\r\n      <el-table-column prop=\"areaName\" label=\"区域名称\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"text\" size=\"small\" @click=\"editDiaShow(scope.row)\">编辑</el-button>\r\n          <el-button type=\"text\" size=\"small\" @click=\"deleteArea(scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-dialog v-model=\"addShow\" v-if=\"addShow\" title=\"新增区域\" @close=\"closeDia\">\r\n      <el-form label-width=\"150px\">\r\n        <el-form-item name=\"newAreaName\" label=\"区域名称:\">\r\n          <el-input v-model=\"newAreaName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"addArea\">确定</el-button>\r\n          <el-button @click=\"addShow = false\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n    <el-dialog v-model=\"editShow\" v-if=\"editShow\" title=\"新增区域\" @close=\"closeDia\">\r\n      <el-form label-width=\"150px\" :data=\"editForm\">\r\n        <el-form-item name=\"newAreaName\" label=\"区域名称:\">\r\n          <el-input v-model=\"editForm.areaName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"editArea\">确定</el-button>\r\n          <el-button @click=\"editShow = false\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllArea, deleteArea, addArea, updateArea} from '@/api/request'\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [\r\n      ],\r\n      addShow: false,\r\n      editShow: false,\r\n      newAreaName:'',\r\n      editForm:{}\r\n    }\r\n  },\r\n  methods:{\r\n    closeDia () {\r\n      this.addShow = false\r\n      this.editShow = false\r\n      this.editForm = {}\r\n      this.newAreaName = ''\r\n    },\r\n    editArea () {\r\n      updateArea(this.editForm).then(() => {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '修改成功!'\r\n        })\r\n        this.closeDia()\r\n        this.getArea()\r\n      })\r\n    },\r\n    editDiaShow (item) {\r\n      this.editForm = {...item}\r\n      this.editShow = true\r\n    },\r\n    async getArea(){\r\n      const res = await getAllArea()\r\n      this.tableData = res.data.data\r\n    },\r\n    addArea () {\r\n      const data = {\r\n        areaName: this.newAreaName,\r\n        areaid: Math.floor(Date.now() / 1000) + Math.floor(Math.random() * 1000),\r\n      }\r\n      addArea(data).then(() => {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '添加成功!'\r\n        })\r\n        this.closeDia()\r\n        this.getArea()\r\n      })\r\n    },\r\n    deleteArea(item){\r\n      this.$confirm('此操作将永久删除该区域, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        deleteArea([item.areaid]).then(() => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          })\r\n          this.getArea()\r\n        })\r\n      })\r\n    }\r\n  },\r\n  created(){\r\n    this.getArea()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"AAsCA,SAASA,UAAU,EAAEC,UAAU,EAAEC,OAAO,EAAEC,UAAU,QAAO,eAAc;AACzE,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EACV;MACDC,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE,KAAK;MACfC,WAAW,EAAC,EAAE;MACdC,QAAQ,EAAC,CAAC;IACZ;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,QAAOA,CAAA,EAAK;MACV,IAAI,CAACL,OAAM,GAAI,KAAI;MACnB,IAAI,CAACC,QAAO,GAAI,KAAI;MACpB,IAAI,CAACE,QAAO,GAAI,CAAC;MACjB,IAAI,CAACD,WAAU,GAAI,EAAC;IACtB,CAAC;IACDI,QAAOA,CAAA,EAAK;MACVT,UAAU,CAAC,IAAI,CAACM,QAAQ,CAAC,CAACI,IAAI,CAAC,MAAM;QACnC,IAAI,CAACC,QAAQ,CAAC;UACZC,IAAI,EAAE,SAAS;UACfC,OAAO,EAAE;QACX,CAAC;QACD,IAAI,CAACL,QAAQ,CAAC;QACd,IAAI,CAACM,OAAO,CAAC;MACf,CAAC;IACH,CAAC;IACDC,WAAUA,CAAGC,IAAI,EAAE;MACjB,IAAI,CAACV,QAAO,GAAI;QAAC,GAAGU;MAAI;MACxB,IAAI,CAACZ,QAAO,GAAI,IAAG;IACrB,CAAC;IACD,MAAMU,OAAOA,CAAA,EAAE;MACb,MAAMG,GAAE,GAAI,MAAMpB,UAAU,CAAC;MAC7B,IAAI,CAACK,SAAQ,GAAIe,GAAG,CAAChB,IAAI,CAACA,IAAG;IAC/B,CAAC;IACDF,OAAMA,CAAA,EAAK;MACT,MAAME,IAAG,GAAI;QACXiB,QAAQ,EAAE,IAAI,CAACb,WAAW;QAC1Bc,MAAM,EAAEC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,IAAI,IAAI,IAAIH,IAAI,CAACC,KAAK,CAACD,IAAI,CAACI,MAAM,CAAC,IAAI,IAAI;MACzE;MACAzB,OAAO,CAACE,IAAI,CAAC,CAACS,IAAI,CAAC,MAAM;QACvB,IAAI,CAACC,QAAQ,CAAC;UACZC,IAAI,EAAE,SAAS;UACfC,OAAO,EAAE;QACX,CAAC;QACD,IAAI,CAACL,QAAQ,CAAC;QACd,IAAI,CAACM,OAAO,CAAC;MACf,CAAC;IACH,CAAC;IACDhB,UAAUA,CAACkB,IAAI,EAAC;MACd,IAAI,CAACS,QAAQ,CAAC,oBAAoB,EAAE,IAAI,EAAE;QACxCC,iBAAiB,EAAE,IAAI;QACvBC,gBAAgB,EAAE,IAAI;QACtBf,IAAI,EAAE;MACR,CAAC,CAAC,CAACF,IAAI,CAAC,YAAY;QAClBZ,UAAU,CAAC,CAACkB,IAAI,CAACG,MAAM,CAAC,CAAC,CAACT,IAAI,CAAC,MAAM;UACnC,IAAI,CAACC,QAAQ,CAAC;YACZC,IAAI,EAAE,SAAS;YACfC,OAAO,EAAE;UACX,CAAC;UACD,IAAI,CAACC,OAAO,CAAC;QACf,CAAC;MACH,CAAC;IACH;EACF,CAAC;EACDc,OAAOA,CAAA,EAAE;IACP,IAAI,CAACd,OAAO,CAAC;EACf;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}