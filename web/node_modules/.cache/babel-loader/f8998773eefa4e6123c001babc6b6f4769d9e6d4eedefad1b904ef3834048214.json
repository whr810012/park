{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"map-select\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"tool_search\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"tool_search_result\"\n};\nconst _hoisted_4 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 地图搜索栏 \"), this.toolShow && this.toolSerach ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_el_input, {\n    id: \"tipInput\",\n    modelValue: $data.inputSearchVal,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.inputSearchVal = $event),\n    placeholder: \"请输入搜索名称\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_button, {\n      icon: \"el-icon-search\",\n      onClick: $options.searchKeyword,\n      style: {\n        \"width\": \"60px\"\n      }\n    }, null, 8 /* PROPS */, [\"onClick\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 搜索结果栏 \"), this.toolShow && this.showsearchResult ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.poiList, (item, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      onClick: $event => $options.markerResult(item),\n      key: index\n    }, _toDisplayString(item.name), 9 /* TEXT, PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","toolShow","toolSerach","_hoisted_2","_createVNode","_component_el_input","id","$data","inputSearchVal","$event","placeholder","_component_el_button","icon","onClick","$options","searchKeyword","style","showsearchResult","_hoisted_3","_createElementVNode","_Fragment","_renderList","poiList","item","index","markerResult","key","name","_hoisted_4"],"sources":["C:\\Users\\Administrator\\Desktop\\ershou\\src\\components\\mapSelect.vue"],"sourcesContent":["<template>\r\n  <div class=\"map-select\">\r\n\r\n    <!-- 地图搜索栏 -->\r\n    <div class=\"tool_search\" v-if=\"this.toolShow && this.toolSerach\">\r\n      <el-input id=\"tipInput\" v-model=\"inputSearchVal\" placeholder=\"请输入搜索名称\">\r\n        <el-button icon=\"el-icon-search\" @click=\"searchKeyword\" style=\"width:60px\"></el-button>\r\n      </el-input>\r\n    </div>\r\n    <!-- 搜索结果栏 -->\r\n    <div class=\"tool_search_result\" v-if=\"this.toolShow && this.showsearchResult\">\r\n      <ul>\r\n        <li @click=\"markerResult(item)\" v-for=\"(item, index) in poiList\" :key=\"index\">{{ item.name }}</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AMap from \"@amap/amap-jsapi-loader\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 地图搜索\r\n\t\t\tshowsearchResult:false,\r\n\t\t\tautoCompleteComponent: undefined,\r\n\t\t\tplaceSearchComponent: undefined,\r\n\t\t\tmarkerList:[],\r\n\t\t\tmapInput:'',\r\n\t\t\tinputSearchVal:'',\r\n\t\t\tpoiList:[],\r\n    }\r\n  },\r\n  methods: {\r\n    \r\n//--------地图搜索-----------\r\n\t\tsearch(){\r\n\t\t\tthis.is1 = !this.is1\r\n\t\t\tthis.toolSerach = !this.toolSerach\r\n\t\t\tif(this.toolSerach===false){\r\n\t\t\t\tthis.showsearchResult = false\r\n\t\t\t\t//清除结果标点，暂时还没做\r\n\t\t\t}\r\n\t\t},\r\n\t\tmarkerResult(data){\r\n\t\t\tvar marker = new AMap.Marker({\r\n\t\t\t\tposition: [Number(data.location.lng),Number(data.location.lat)],\r\n\t\t\t\tcursor:'pointer',\r\n\t\t\t\t// icon: carIcon,\r\n\t\t\t\tautoRotation: true,\r\n\t\t\t\tangle:0,\r\n\t\t\t\toffset: new AMap.Pixel(-36, -30),\r\n\t\t\t});\r\n\t\t\tmarker.setMap(this.mapall);\r\n\t\t\tthis.mapall.setFitView();\r\n\t\t},\r\n\t\t/** 初始化搜索工具 */\r\n\t\tmapSearchInit(){   //在mounted中调用\r\n\t\t\tvar autoOptions = {\r\n\t\t\t\tinput: \"tipInput\",\r\n\t\t\t}\r\n\t\t\tvar autoCompleteComponent= new AMap.Autocomplete(autoOptions);\r\n\t\t\tthis.autoCompleteComponent = autoCompleteComponent;\r\n\t\t\t// 注册placeSearch组件\r\n\t\t\tthis.placeSearchComponent = new AMap.PlaceSearch()\r\n\t\t},\r\n\t\tsearchKeyword(){\r\n\t\t\tlet cur = this\r\n\t\t\tthis.placeSearchComponent.search(this.inputSearchVal, function (status, result) {\r\n\t\t\t\t// 查询成功时，result即对应匹配的POI信息\r\n\t\t\t\tconsole.log(status);\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tif(status==='complete' && result.info === \"OK\"){\r\n\t\t\t\t\tcur.showsearchResult = true\r\n\t\t\t\t\tcur.poiList = result.poiList.pois\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcur.showsearchResult = false\r\n\t\t\t\t\tcur.poiList = []\r\n\t\t\t\t\tcur.$message({\r\n\t\t\t\t\t\tmessage: \"没有查到结果\",\r\n\t\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n  },\r\n  mounted(){\r\n    this.mapSearchInit()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.tool_search{\r\n      width: 250px;top: 42px;right: 270px;height:32px;\r\n      background:#eee;opacity: 0.8;border-radius: 4px;margin-top:2px;\r\n      bottom: auto;z-index:12;position: absolute;text-align: left;\r\n      font-size: 14px;\r\n  }\r\n  ::v-deep .el-input-group__append, .el-input-group__prepend{\r\n    border: 1px solid rgb(194, 193, 193);\r\n    border-left: none;\r\n    background: rgb(231, 230, 230);\r\n    color: rgb(77, 77, 73);\r\n  }\r\n  ::v-deep .el-input__inner{\r\n    border: 1px solid rgb(194, 193, 193);\r\n  }\r\n  .tool_search_result{\r\n      width: 250px;top: 78px;right: 270px;height:300px;\r\n      border: 1px solid rgb(175, 175, 173);\r\n      border-top: none;\r\n      background:#fff;opacity: 0.8;\r\n      margin-top:2px;\r\n      bottom: auto;z-index:12;position: absolute;text-align: left;\r\n      font-size: 14px;\r\n  }\r\n  .tool_search_result ul{\r\n      width:100%;\r\n      height:100%;\r\n      list-style: none;\r\n      margin: 0;\r\n      padding: 0;\r\n  }\r\n  .tool_search_result ul li{\r\n    font-size: 12px;\r\n      color: rgb(23, 40, 75);\r\n      text-align: center;\r\n      width:100%;\r\n      height:9.75%;\r\n      float: left;\r\n      margin: 0px 0px 1px 0;\r\n      padding:2.5% 4px 0 4px;\r\n      border-bottom: 1px dashed rgb(170, 170, 172);\r\n      display: inline-block;\r\n      white-space: nowrap; \r\n      overflow: hidden;\r\n      text-overflow:ellipsis;\r\n  }\r\n  .tool_search_result ul li:last-child{\r\n    border: none;\r\n  }\r\n  </style>"],"mappings":";;EACOA,KAAK,EAAC;AAAY;;;EAGhBA,KAAK,EAAC;;;;EAMNA,KAAK,EAAC;;;;;;uBATbC,mBAAA,CAcM,OAdNC,UAcM,GAZJC,mBAAA,WAAc,E,KACsBC,QAAQ,SAASC,UAAU,I,cAA/DJ,mBAAA,CAIM,OAJNK,UAIM,GAHJC,YAAA,CAEWC,mBAAA;IAFDC,EAAE,EAAC,UAAU;gBAAUC,KAAA,CAAAC,cAAc;+DAAdD,KAAA,CAAAC,cAAc,GAAAC,MAAA;IAAEC,WAAW,EAAC;;sBAC3D,MAAuF,CAAvFN,YAAA,CAAuFO,oBAAA;MAA5EC,IAAI,EAAC,gBAAgB;MAAEC,OAAK,EAAEC,QAAA,CAAAC,aAAa;MAAEC,KAAkB,EAAlB;QAAA;MAAA;;;4EAG5DhB,mBAAA,WAAc,E,KAC6BC,QAAQ,SAASgB,gBAAgB,I,cAA5EnB,mBAAA,CAIM,OAJNoB,UAIM,GAHJC,mBAAA,CAEK,c,kBADHrB,mBAAA,CAAkGsB,SAAA,QAAAC,WAAA,CAA1Cd,KAAA,CAAAe,OAAO,GAAvBC,IAAI,EAAEC,KAAK;yBAAnD1B,mBAAA,CAAkG;MAA7Fe,OAAK,EAAAJ,MAAA,IAAEK,QAAA,CAAAW,YAAY,CAACF,IAAI;MAAqCG,GAAG,EAAEF;wBAAUD,IAAI,CAACI,IAAI,wBAAAC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}